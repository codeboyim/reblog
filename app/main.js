(function(e){var t=window["webpackJsonp"];window["webpackJsonp"]=function P(r,n){var i,a,s=0,o=[];for(;s<r.length;s++){a=r[s];if(N[a])o.push.apply(o,N[a]);N[a]=0}for(i in n){var u=n[i];switch(typeof u){case"number":e[i]=e[u];break;case"object":e[i]=function(t){var r=t.slice(1),n=t[0];return function(t,i,a){e[n].apply(this,[t,i,a].concat(r))}}(u);break;default:e[i]=u}}if(t)t(r,n);while(o.length)o.shift().call(null,C)};var r=this["webpackHotUpdate"];this["webpackHotUpdate"]=function R(e,t){x(e,t);if(r)r(e,t)};function n(e){var t=document.getElementsByTagName("head")[0];var r=document.createElement("script");r.type="text/javascript";r.charset="utf-8";r.src=C.p+""+e+"."+s+".hot-update.js";t.appendChild(r)}function i(e){if(typeof XMLHttpRequest==="undefined")return e(new Error("No browser support"));try{var t=new XMLHttpRequest;t.open("GET",C.p+""+s+".hot-update.json",true);t.send(null)}catch(r){return e(r)}t.onreadystatechange=function(){if(t.readyState!==4)return;if(t.status!==200&&t.status!==304){e()}else{try{var r=JSON.parse(t.responseText)}catch(n){e();return}e(null,r)}}}var a=true;var s="3b2a26950ae339008e50";var o={};var u=[];function c(e){var t=j[e];if(!t)return C;var r=function(r){if(t.hot.active){if(j[r]){if(j[r].parents.indexOf(e)<0)j[r].parents.push(e);if(t.children.indexOf(r)<0)t.children.push(r)}else u=[e]}else{console.warn("[HMR] unexpected require("+r+") from disposed module "+e);u=[]}return C(r)};for(var n in C){if(Object.prototype.hasOwnProperty.call(C,n)){r[n]=C[n]}}r.e=function(e,t){if(h==="ready")d("prepare");v++;C.e(e,function(){try{t.call(null,r)}finally{n()}function n(){v--;if(h==="prepare"){if(!_[e]){E(e)}if(v===0&&p===0){A()}}}})};return r}function l(e){var t={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:false,_selfDeclined:false,_disposeHandlers:[],active:true,accept:function(e,r){if(typeof e==="undefined")t._selfAccepted=true;else if(typeof e==="function")t._selfAccepted=e;else if(typeof e==="number")t._acceptedDependencies[e]=r;else for(var n=0;n<e.length;n++)t._acceptedDependencies[e[n]]=r},decline:function(e){if(typeof e==="undefined")t._selfDeclined=true;else if(typeof e==="number")t._declinedDependencies[e]=true;else for(var r=0;r<e.length;r++)t._declinedDependencies[e[r]]=true},dispose:function(e){t._disposeHandlers.push(e)},addDisposeHandler:function(e){t._disposeHandlers.push(e)},removeDisposeHandler:function(e){var r=t._disposeHandlers.indexOf(e);if(r>=0)t._disposeHandlers.splice(r,1)},check:O,apply:S,status:function(e){if(!e)return h;f.push(e)},addStatusHandler:function(e){f.push(e)},removeStatusHandler:function(e){var t=f.indexOf(e);if(t>=0)f.splice(t,1)},data:o[e]};return t}var f=[];var h="idle";function d(e){var t=h;h=e;for(var r=0;r<f.length;r++)f[r].call(null,e)}var p=0;var v=0;var _={};var m={};var g={};var y;var b,w;function O(e,t){if(h!=="idle")throw new Error("check() is only allowed in idle status");if(typeof e==="function"){a=false;t=e}else{a=e;t=t||function(e){if(e)throw e}}d("check");i(function(e,r){if(e)return t(e);if(!r){d("idle");t(null,null);return}m={};g={};_={};for(var n=0;n<r.c.length;n++)g[r.c[n]]=true;w=r.h;d("prepare");y=t;b={};for(var i in N){E(i)}if(v===0&&p===0){A()}})}function x(e,t){if(!g[e]||!m[e])return;m[e]=false;for(var r in t){if(Object.prototype.hasOwnProperty.call(t,r)){b[r]=t[r]}}if(--p===0&&v===0){A()}}function E(e){if(!g[e]){_[e]=true}else{m[e]=true;p++;n(e)}}function A(){d("ready");var e=y;y=null;if(!e)return;if(a){S(a,e)}else{var t=[];for(var r in b){if(Object.prototype.hasOwnProperty.call(b,r)){t.push(+r)}}e(null,t)}}function S(t,r){if(h!=="ready")throw new Error("apply() is only allowed in ready status");if(typeof t==="function"){r=t;t={}}else if(t&&typeof t==="object"){r=r||function(e){if(e)throw e}}else{t={};r=r||function(e){if(e)throw e}}function n(e){var t=[e];var r=[];var n=t.slice();while(n.length>0){var a=n.pop();var e=j[a];if(!e||e.hot._selfAccepted)continue;if(e.hot._selfDeclined){return new Error("Aborted because of self decline: "+a)}if(a===0){return}for(var s=0;s<e.parents.length;s++){var o=e.parents[s];var u=j[o];if(u.hot._declinedDependencies[a]){return new Error("Aborted because of declined dependency: "+a+" in "+o)}if(t.indexOf(o)>=0)continue;if(u.hot._acceptedDependencies[a]){if(!r[o])r[o]=[];i(r[o],[a]);continue}delete r[o];t.push(o);n.push(o)}}return[t,r]}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];if(e.indexOf(n)<0)e.push(n)}}var a={};var c=[];var l={};for(var f in b){if(Object.prototype.hasOwnProperty.call(b,f)){var p=+f;var v=n(p);if(!v){if(t.ignoreUnaccepted)continue;d("abort");return r(new Error("Aborted because "+p+" is not accepted"))}if(v instanceof Error){d("abort");return r(v)}l[p]=b[p];i(c,v[0]);for(var p in v[1]){if(Object.prototype.hasOwnProperty.call(v[1],p)){if(!a[p])a[p]=[];i(a[p],v[1][p])}}}}var _=[];for(var m=0;m<c.length;m++){var p=c[m];if(j[p]&&j[p].hot._selfAccepted)_.push({module:p,errorHandler:j[p].hot._selfAccepted})}d("dispose");var g=c.slice();while(g.length>0){var p=g.pop();var y=j[p];if(!y)continue;var O={};var x=y.hot._disposeHandlers;for(var E=0;E<x.length;E++){var A=x[E];A(O)}o[p]=O;y.hot.active=false;delete j[p];for(var E=0;E<y.children.length;E++){var S=j[y.children[E]];if(!S)continue;var N=S.parents.indexOf(p);if(N>=0){S.parents.splice(N,1);if(S.parents.length===0&&S.hot&&S.hot._disposeHandlers&&S.hot._disposeHandlers.length>0){g.push(S.id)}}}}for(var p in a){if(Object.prototype.hasOwnProperty.call(a,p)){var y=j[p];var P=a[p];for(var E=0;E<P.length;E++){var R=P[E];var N=y.children.indexOf(R);if(N>=0)y.children.splice(N,1)}}}d("apply");s=w;for(var p in l){if(Object.prototype.hasOwnProperty.call(l,p)){e[p]=l[p]}}var I=null;for(var p in a){if(Object.prototype.hasOwnProperty.call(a,p)){var y=j[p];var P=a[p];var k=[];for(var m=0;m<P.length;m++){var R=P[m];var A=y.hot._acceptedDependencies[R];if(k.indexOf(A)>=0)continue;k.push(A)}for(var m=0;m<k.length;m++){var A=k[m];try{A(a)}catch(U){if(!I)I=U}}}}for(var m=0;m<_.length;m++){var T=_[m];var p=T.module;u=[p];try{C(p)}catch(U){if(typeof T.errorHandler==="function"){try{T.errorHandler(U)}catch(U){if(!I)I=U}}else if(!I)I=U}}if(I){d("fail");return r(I)}d("idle");r(null,c)}var r=this["webpackHotUpdate"];this["webpackHotUpdate"]=function I(e,t){x(e,t);if(r)r(e,t)};function n(e){var t=document.getElementsByTagName("head")[0];var r=document.createElement("script");r.type="text/javascript";r.charset="utf-8";r.src=C.p+""+e+"."+s+".hot-update.js";t.appendChild(r)}function i(e){if(typeof XMLHttpRequest==="undefined")return e(new Error("No browser support"));try{var t=new XMLHttpRequest;t.open("GET",C.p+""+s+".hot-update.json",true);t.send(null)}catch(r){return e(r)}t.onreadystatechange=function(){if(t.readyState!==4)return;if(t.status!==200&&t.status!==304){e()}else{try{var r=JSON.parse(t.responseText)}catch(n){e();return}e(null,r)}}}var a=true;var s="3b2a26950ae339008e50";var o={};var u=[];function c(e){var t=j[e];if(!t)return C;var r=function(r){if(t.hot.active){if(j[r]){if(j[r].parents.indexOf(e)<0)j[r].parents.push(e);if(t.children.indexOf(r)<0)t.children.push(r)}else u=[e]}else{console.warn("[HMR] unexpected require("+r+") from disposed module "+e);u=[]}return C(r)};for(var n in C){if(Object.prototype.hasOwnProperty.call(C,n)){r[n]=C[n]}}r.e=function(e,t){if(h==="ready")d("prepare");v++;C.e(e,function(){try{t.call(null,r)}finally{n()}function n(){v--;if(h==="prepare"){if(!_[e]){E(e)}if(v===0&&p===0){A()}}}})};return r}function l(e){var t={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:false,_selfDeclined:false,_disposeHandlers:[],active:true,accept:function(e,r){if(typeof e==="undefined")t._selfAccepted=true;else if(typeof e==="function")t._selfAccepted=e;else if(typeof e==="number")t._acceptedDependencies[e]=r;else for(var n=0;n<e.length;n++)t._acceptedDependencies[e[n]]=r},decline:function(e){if(typeof e==="undefined")t._selfDeclined=true;else if(typeof e==="number")t._declinedDependencies[e]=true;else for(var r=0;r<e.length;r++)t._declinedDependencies[e[r]]=true},dispose:function(e){t._disposeHandlers.push(e)},addDisposeHandler:function(e){t._disposeHandlers.push(e)},removeDisposeHandler:function(e){var r=t._disposeHandlers.indexOf(e);if(r>=0)t._disposeHandlers.splice(r,1)},check:O,apply:S,status:function(e){if(!e)return h;f.push(e)},addStatusHandler:function(e){f.push(e)},removeStatusHandler:function(e){var t=f.indexOf(e);if(t>=0)f.splice(t,1)},data:o[e]};return t}var f=[];var h="idle";function d(e){var t=h;h=e;for(var r=0;r<f.length;r++)f[r].call(null,e)}var p=0;var v=0;var _={};var m={};var g={};var y;var b,w;function O(e,t){if(h!=="idle")throw new Error("check() is only allowed in idle status");if(typeof e==="function"){a=false;t=e}else{a=e;t=t||function(e){if(e)throw e}}d("check");i(function(e,r){if(e)return t(e);if(!r){d("idle");t(null,null);return}m={};g={};_={};for(var n=0;n<r.c.length;n++)g[r.c[n]]=true;w=r.h;d("prepare");y=t;b={};for(var i in N){E(i)}if(v===0&&p===0){A()}})}function x(e,t){if(!g[e]||!m[e])return;m[e]=false;for(var r in t){if(Object.prototype.hasOwnProperty.call(t,r)){b[r]=t[r]}}if(--p===0&&v===0){A()}}function E(e){if(!g[e]){_[e]=true}else{m[e]=true;p++;n(e)}}function A(){d("ready");var e=y;y=null;if(!e)return;if(a){S(a,e)}else{var t=[];for(var r in b){if(Object.prototype.hasOwnProperty.call(b,r)){t.push(+r)}}e(null,t)}}function S(t,r){if(h!=="ready")throw new Error("apply() is only allowed in ready status");if(typeof t==="function"){r=t;t={}}else if(t&&typeof t==="object"){r=r||function(e){if(e)throw e}}else{t={};r=r||function(e){if(e)throw e}}function n(e){var t=[e];var r=[];var n=t.slice();while(n.length>0){var a=n.pop();var e=j[a];if(!e||e.hot._selfAccepted)continue;if(e.hot._selfDeclined){return new Error("Aborted because of self decline: "+a)}if(a===0){return}for(var s=0;s<e.parents.length;s++){var o=e.parents[s];var u=j[o];if(u.hot._declinedDependencies[a]){return new Error("Aborted because of declined dependency: "+a+" in "+o)}if(t.indexOf(o)>=0)continue;if(u.hot._acceptedDependencies[a]){if(!r[o])r[o]=[];i(r[o],[a]);continue}delete r[o];t.push(o);n.push(o)}}return[t,r]}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];if(e.indexOf(n)<0)e.push(n)}}var a={};var c=[];var l={};for(var f in b){if(Object.prototype.hasOwnProperty.call(b,f)){var p=+f;var v=n(p);if(!v){if(t.ignoreUnaccepted)continue;d("abort");return r(new Error("Aborted because "+p+" is not accepted"))}if(v instanceof Error){d("abort");return r(v)}l[p]=b[p];i(c,v[0]);for(var p in v[1]){if(Object.prototype.hasOwnProperty.call(v[1],p)){if(!a[p])a[p]=[];i(a[p],v[1][p])}}}}var _=[];for(var m=0;m<c.length;m++){var p=c[m];if(j[p]&&j[p].hot._selfAccepted)_.push({module:p,errorHandler:j[p].hot._selfAccepted})}d("dispose");var g=c.slice();while(g.length>0){var p=g.pop();var y=j[p];if(!y)continue;var O={};var x=y.hot._disposeHandlers;for(var E=0;E<x.length;E++){var A=x[E];A(O)}o[p]=O;y.hot.active=false;delete j[p];for(var E=0;E<y.children.length;E++){var S=j[y.children[E]];if(!S)continue;var N=S.parents.indexOf(p);if(N>=0){S.parents.splice(N,1);if(S.parents.length===0&&S.hot&&S.hot._disposeHandlers&&S.hot._disposeHandlers.length>0){g.push(S.id)}}}}for(var p in a){if(Object.prototype.hasOwnProperty.call(a,p)){var y=j[p];var P=a[p];for(var E=0;E<P.length;E++){var R=P[E];var N=y.children.indexOf(R);if(N>=0)y.children.splice(N,1)}}}d("apply");s=w;for(var p in l){if(Object.prototype.hasOwnProperty.call(l,p)){e[p]=l[p]}}var I=null;for(var p in a){if(Object.prototype.hasOwnProperty.call(a,p)){var y=j[p];var P=a[p];var k=[];for(var m=0;m<P.length;m++){var R=P[m];var A=y.hot._acceptedDependencies[R];if(k.indexOf(A)>=0)continue;k.push(A)}for(var m=0;m<k.length;m++){var A=k[m];try{A(a)}catch(U){if(!I)I=U}}}}for(var m=0;m<_.length;m++){var T=_[m];var p=T.module;u=[p];try{C(p)}catch(U){if(typeof T.errorHandler==="function"){try{T.errorHandler(U)}catch(U){if(!I)I=U}}else if(!I)I=U}}if(I){d("fail");return r(I)}d("idle");r(null,c)}var j={};var N={0:0};function C(t){if(j[t])return j[t].exports;var r=j[t]={exports:{},id:t,loaded:false,hot:l(t),parents:u,children:[],hot:l(t),parents:u,children:[]};e[t].call(r.exports,r,r.exports,c(t));r.loaded=true;return r.exports}C.e=function k(e,t){if(N[e]===0)return t.call(null,C);if(N[e]!==undefined){N[e].push(t)}else{N[e]=[t];var r=document.getElementsByTagName("head")[0];var n=document.createElement("script");n.type="text/javascript";n.charset="utf-8";n.async=true;n.src=C.p+""+{1:"8f1daed5734538793721",2:"deb6ed58b2d4d8d94a0f",3:"75655c663948466832a4",4:"32af6a3aef69bbf5cec3",5:"2c973da68f52d2e6b88f"}[e]+".js";r.appendChild(n)}};C.m=e;C.c=j;C.p="app/";C.h=function(){return s};C.h=function(){return s};return c(0)(0)})(function(e){for(var t in e){switch(typeof e[t]){case"number":e[t]=e[e[t]];break;case"object":e[t]=function(t){var r=t.slice(1),n=e[t[0]];return function(e,t,i){n.apply(null,[e,t,i].concat(r))}}(e[t])}}return e}({0:function(e,t,r){r(2);e.exports=r(1)},1:function(e,t,r){(function(e){r(4);e.initialize("nL7qxG42xhdthyxFTgfPz7yjbm5up7O9abWx7EdN","ZP02hz8DuVh9cBhA7aZ8AjFTirh95j9kQHSBZrN2");r(3)}).call(t,r(12))},2:function(e,t,r){if(true){var n;var i=function o(){return n.indexOf(r.h())>=0};var a=function u(){e.hot.check(true,function(t,r){if(t){if(e.hot.status()in{abort:1,fail:1}){console.warn("[HMR] Cannot apply update. Need to do a full reload!");window.location.reload()}else{console.warn("[HMR] Update failed: "+t)}return}if(!r)return console.log("[HMR] No Update found.");if(!i()){u()}if(!r||r.length===0){console.log("[HMR] Update is empty.")}else{console.log("[HMR] Updated modules:");r.forEach(function(e){console.log("[HMR]  - "+e)})}if(i()){console.log("[HMR] App is up to date.")}})};var s=window.addEventListener||function(e,t){return attachEvent("on"+e,t)};s("message",function(t){if(typeof t.data==="string"&&t.data.indexOf("webpackHotUpdate")===0){n=t.data;if(!i()&&e.hot.status()==="idle"){console.log("[HMR] Checking for updates on the server...");a()}}});console.log("[HMR] Waiting for update signal from WDS...")}else{throw new Error("[HMR] Hot Module Replacement is disabled")}},3:function(e,t,r){(function(t){var n,i;function a(){if(!t.User.current()){i=n.getRoute().join("/");n.setRoute("/login");return false}}var s={"/":function(){r.e(1,function(e){var t=[e(8)];(function(e){e()}).apply(null,t)})},"/p/:seoUrl":function(e){r.e(2,function(t){var r=[t(9)];(function(t){t(e)}).apply(null,r)})},"/a":{"/p":{"/?(\\w*)":[a,function(e){if(e==="new"){e=""}r.e(3,function(t){var r=[t(10)];(function(t){t("post",{id:e})}).apply(null,r)})}]},on:function(){n.setRoute("/a/p/new")}},"/login":function(){r.e(4,function(e){var t=[e(11)];(function(e){e(i)}).apply(null,t)})},"/404":function(){r.e(5,function(e){var t=[e(6)];(function(e){e()}).apply(null,t)})}};n=r(14).Router(s).configure({notfound:function(){return n.setRoute("/404")}});n.init("/");document.body.addEventListener("click",function(e){var t=document.location.origin+document.location.pathname,r="",i=e.target,a;while(i!==document.body&&i.tagName!=="A"){i=i.parentNode}if(i.tagName==="A"&&/^\/.*/.test(a=i.getAttribute("href"))){e.preventDefault();n.setRoute(a)}});e.exports=n}).call(t,r(12))},4:function(e,t,r){var n=r(5);if(typeof n==="string")n=[[e.id,n,""]];var i=r(7)(n,{});if(true){e.hot.accept(55,function(){var t=r(5);if(typeof t==="string")t=[e.id,t,""];i(t)});e.hot.dispose(function(){i()})}},5:function(e,t,r){t=e.exports=r(18)();t.push([e.id,"@import url(http://fonts.googleapis.com/css?family=Lora|Open+Sans|Noto+Serif:400,700,400italic,700italic|Merriweather:400,300italic,300,400italic);",""]);t.push([e.id,'html{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}body{margin:0}h1,h2,h3,h4,p,blockquote,figure,ol,ul{margin:0;padding:0;-webkit-margin-before:0;-webkit-margin-after:0;-webkit-margin-start:0;-webkit-margin-end:0}li{display:block}h1,h2,h3,h4{font-size:inherit}a{text-decoration:none;color:inherit;-webkit-transition:.3s;-moz-transition:.3s;transition:.3s}img{max-width:100%;height:auto;border:0}fieldset{padding:0;border:none}[type="text"],[type="password"],textarea{font-size:1.6rem;font-family:inherit}:focus{outline:none}*{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}*{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}html{font-size:62.5%;height:100%}body{font-family:"Open Sans" "Lucida Grande",Tahoma,Verdana,Arial,sans-serif;color:rgba(0,0,0,.9);background-color:#fbfbfb;font-size:1.6rem;line-height:2.5888rem;height:100%}label{font:700 1.1rem "Noto Serif" Georgia,Cambria,"Times New Roman",Times,serif;color:#b6b6b6;text-transform:uppercase}h1,h2{font-weight:400;font-family:Lora Georgia,Cambria,"Times New Roman",Times,serif;margin-top:2%;margin-bottom:2%}h1{font-size:3.6rem}h2{font-size:2.4rem;line-height:3.5596rem}p{margin-top:1.6rem;margin-bottom:1.6rem}.text-center{text-align:center}a{opacity:.8;cursor:pointer}a:hover{opacity:1}.blur{-webkit-filter:blur(2px);-moz-filter:blur(2px);filter:blur(2px);-ms-filter:blur(2px);-o-filter:blur(2px)}',""])},7:function(e,t,r){var n={},i=function(e){var t;return function(){if(typeof t==="undefined")t=e.apply(this,arguments);return t}},a=i(function(){return/msie 9\b/.test(window.navigator.userAgent.toLowerCase())}),s=i(function(){return document.head||document.getElementsByTagName("head")[0]}),o=null,u=0;e.exports=function(e,t){if(false){if(typeof document!=="object")throw new Error("The style-loader cannot be used in a non-browser environment")}t=t||{};if(typeof t.singleton==="undefined")t.singleton=a();var r=l(e);c(r,t);return function i(e){var i=[];for(var a=0;a<r.length;a++){var s=r[a];var o=n[s.id];o.refs--;i.push(o)}if(e){var u=l(e);c(u,t)}for(var a=0;a<i.length;a++){var o=i[a];if(o.refs===0){for(var f=0;f<o.parts.length;f++)o.parts[f]();delete n[o.id]}}}};function c(e,t){for(var r=0;r<e.length;r++){var i=e[r];var a=n[i.id];if(a){a.refs++;for(var s=0;s<a.parts.length;s++){a.parts[s](i.parts[s])}for(;s<i.parts.length;s++){a.parts.push(h(i.parts[s],t))}}else{var o=[];for(var s=0;s<i.parts.length;s++){o.push(h(i.parts[s],t))}n[i.id]={id:i.id,refs:1,parts:o}}}}function l(e){var t=[];var r={};for(var n=0;n<e.length;n++){var i=e[n];var a=i[0];var s=i[1];var o=i[2];var u=i[3];var c={css:s,media:o,sourceMap:u};if(!r[a])t.push(r[a]={id:a,parts:[c]});else r[a].parts.push(c)}return t}function f(){var e=document.createElement("style");var t=s();e.type="text/css";t.appendChild(e);return e}function h(e,t){var r,n,i;if(t.singleton){var a=u++;r=o||(o=f());n=p.bind(null,r,a,false);i=p.bind(null,r,a,true)}else{r=f();n=v.bind(null,r);i=function(){r.parentNode.removeChild(r)}}n(e);return function s(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else{i()}}}function d(e,t,r){var n=["/** >>"+t+" **/","/** "+t+"<< **/"];var i=e.lastIndexOf(n[0]);var a=r?n[0]+r+n[1]:"";if(e.lastIndexOf(n[0])>=0){var s=e.lastIndexOf(n[1])+n[1].length;return e.slice(0,i)+a+e.slice(s)}else{return e+a}}function p(e,t,r,n){var i=r?"":n.css;if(e.styleSheet){e.styleSheet.cssText=d(e.styleSheet.cssText,t,i)}else{var a=document.createTextNode(i);var s=e.childNodes;if(s[t])e.removeChild(s[t]);if(s.length){e.insertBefore(a,s[t])}else{e.appendChild(a)}}}function v(e,t){var r=t.css;var n=t.media;var i=t.sourceMap;if(i&&typeof btoa==="function"){try{r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(JSON.stringify(i))+" */";r='@import url("data:stylesheet/css;base64,'+btoa(r)+'")'}catch(a){}}if(n){e.setAttribute("media",n)}if(e.styleSheet){e.styleSheet.cssText=r}else{while(e.firstChild){e.removeChild(e.firstChild)}e.appendChild(document.createTextNode(r))}}},12:function(e,t,r){(function(n){/*!
	 * Parse JavaScript SDK
	 * Version: 1.3.0
	 * Built: Fri Sep 12 2014 13:34:28
	 * http://parse.com
	 *
	 * Copyright 2014 Parse, Inc.
	 * The Parse JavaScript SDK is freely distributable under the MIT license.
	 *
	 * Includes: Underscore.js
	 * Copyright 2009-2012 Jeremy Ashkenas, DocumentCloud Inc.
	 * Released under the MIT license.
	 */
(function(e){e.Parse=e.Parse||{};e.Parse.VERSION="js1.3.0"})(this);(function(){var r=this;var n=r._;var i={};var a=Array.prototype,s=Object.prototype,o=Function.prototype;var u=a.push,c=a.slice,l=a.concat,f=s.toString,h=s.hasOwnProperty;var d=a.forEach,p=a.map,v=a.reduce,_=a.reduceRight,m=a.filter,g=a.every,y=a.some,b=a.indexOf,w=a.lastIndexOf,O=Array.isArray,x=Object.keys,E=o.bind;var A=function(e){if(e instanceof A)return e;if(!(this instanceof A))return new A(e);this._wrapped=e};if(true){if(typeof e!=="undefined"&&e.exports){t=e.exports=A}t._=A}else{r._=A}A.VERSION="1.4.4";var S=A.each=A.forEach=function(e,t,r){if(e==null)return;if(d&&e.forEach===d){e.forEach(t,r)}else if(e.length===+e.length){for(var n=0,a=e.length;n<a;n++){if(t.call(r,e[n],n,e)===i)return}}else{for(var s in e){if(A.has(e,s)){if(t.call(r,e[s],s,e)===i)return}}}};A.map=A.collect=function(e,t,r){var n=[];if(e==null)return n;if(p&&e.map===p)return e.map(t,r);S(e,function(e,i,a){n[n.length]=t.call(r,e,i,a)});return n};var j="Reduce of empty array with no initial value";A.reduce=A.foldl=A.inject=function(e,t,r,n){var i=arguments.length>2;if(e==null)e=[];if(v&&e.reduce===v){if(n)t=A.bind(t,n);return i?e.reduce(t,r):e.reduce(t)}S(e,function(e,a,s){if(!i){r=e;i=true}else{r=t.call(n,r,e,a,s)}});if(!i)throw new TypeError(j);return r};A.reduceRight=A.foldr=function(e,t,r,n){var i=arguments.length>2;if(e==null)e=[];if(_&&e.reduceRight===_){if(n)t=A.bind(t,n);return i?e.reduceRight(t,r):e.reduceRight(t)}var a=e.length;if(a!==+a){var s=A.keys(e);a=s.length}S(e,function(o,u,c){u=s?s[--a]:--a;if(!i){r=e[u];i=true}else{r=t.call(n,r,e[u],u,c)}});if(!i)throw new TypeError(j);return r};A.find=A.detect=function(e,t,r){var n;N(e,function(e,i,a){if(t.call(r,e,i,a)){n=e;return true}});return n};A.filter=A.select=function(e,t,r){var n=[];if(e==null)return n;if(m&&e.filter===m)return e.filter(t,r);S(e,function(e,i,a){if(t.call(r,e,i,a))n[n.length]=e});return n};A.reject=function(e,t,r){return A.filter(e,function(e,n,i){return!t.call(r,e,n,i)},r)};A.every=A.all=function(e,t,r){t||(t=A.identity);var n=true;if(e==null)return n;if(g&&e.every===g)return e.every(t,r);S(e,function(e,a,s){if(!(n=n&&t.call(r,e,a,s)))return i});return!!n};var N=A.some=A.any=function(e,t,r){t||(t=A.identity);var n=false;if(e==null)return n;if(y&&e.some===y)return e.some(t,r);S(e,function(e,a,s){if(n||(n=t.call(r,e,a,s)))return i});return!!n};A.contains=A.include=function(e,t){if(e==null)return false;if(b&&e.indexOf===b)return e.indexOf(t)!=-1;return N(e,function(e){return e===t})};A.invoke=function(e,t){var r=c.call(arguments,2);var n=A.isFunction(t);return A.map(e,function(e){return(n?t:e[t]).apply(e,r)})};A.pluck=function(e,t){return A.map(e,function(e){return e[t]})};A.where=function(e,t,r){if(A.isEmpty(t))return r?null:[];return A[r?"find":"filter"](e,function(e){for(var r in t){if(t[r]!==e[r])return false}return true})};A.findWhere=function(e,t){return A.where(e,t,true)};A.max=function(e,t,r){if(!t&&A.isArray(e)&&e[0]===+e[0]&&e.length<65535){return Math.max.apply(Math,e)}if(!t&&A.isEmpty(e))return-Infinity;var n={computed:-Infinity,value:-Infinity};S(e,function(e,i,a){var s=t?t.call(r,e,i,a):e;s>=n.computed&&(n={value:e,computed:s})});return n.value};A.min=function(e,t,r){if(!t&&A.isArray(e)&&e[0]===+e[0]&&e.length<65535){return Math.min.apply(Math,e)}if(!t&&A.isEmpty(e))return Infinity;var n={computed:Infinity,value:Infinity};S(e,function(e,i,a){var s=t?t.call(r,e,i,a):e;s<n.computed&&(n={value:e,computed:s})});return n.value};A.shuffle=function(e){var t;var r=0;var n=[];S(e,function(e){t=A.random(r++);n[r-1]=n[t];n[t]=e});return n};var C=function(e){return A.isFunction(e)?e:function(t){return t[e]}};A.sortBy=function(e,t,r){var n=C(t);return A.pluck(A.map(e,function(e,t,i){return{value:e,index:t,criteria:n.call(r,e,t,i)}}).sort(function(e,t){var r=e.criteria;var n=t.criteria;if(r!==n){if(r>n||r===void 0)return 1;if(r<n||n===void 0)return-1}return e.index<t.index?-1:1}),"value")};var P=function(e,t,r,n){var i={};var a=C(t||A.identity);S(e,function(t,s){var o=a.call(r,t,s,e);n(i,o,t)});return i};A.groupBy=function(e,t,r){return P(e,t,r,function(e,t,r){(A.has(e,t)?e[t]:e[t]=[]).push(r)})};A.countBy=function(e,t,r){return P(e,t,r,function(e,t){if(!A.has(e,t))e[t]=0;e[t]++})};A.sortedIndex=function(e,t,r,n){r=r==null?A.identity:C(r);var i=r.call(n,t);var a=0,s=e.length;while(a<s){var o=a+s>>>1;r.call(n,e[o])<i?a=o+1:s=o}return a};A.toArray=function(e){if(!e)return[];if(A.isArray(e))return c.call(e);if(e.length===+e.length)return A.map(e,A.identity);return A.values(e)};A.size=function(e){if(e==null)return 0;return e.length===+e.length?e.length:A.keys(e).length};A.first=A.head=A.take=function(e,t,r){if(e==null)return void 0;return t!=null&&!r?c.call(e,0,t):e[0]};A.initial=function(e,t,r){return c.call(e,0,e.length-(t==null||r?1:t))};A.last=function(e,t,r){if(e==null)return void 0;if(t!=null&&!r){return c.call(e,Math.max(e.length-t,0))}else{return e[e.length-1]}};A.rest=A.tail=A.drop=function(e,t,r){return c.call(e,t==null||r?1:t)};A.compact=function(e){return A.filter(e,A.identity)};var R=function(e,t,r){S(e,function(e){if(A.isArray(e)){t?u.apply(r,e):R(e,t,r)}else{r.push(e)}});return r};A.flatten=function(e,t){return R(e,t,[])};A.without=function(e){return A.difference(e,c.call(arguments,1))};A.uniq=A.unique=function(e,t,r,n){if(A.isFunction(t)){n=r;r=t;t=false}var i=r?A.map(e,r,n):e;var a=[];var s=[];S(i,function(r,n){if(t?!n||s[s.length-1]!==r:!A.contains(s,r)){s.push(r);a.push(e[n])}});return a};A.union=function(){return A.uniq(l.apply(a,arguments))};A.intersection=function(e){var t=c.call(arguments,1);return A.filter(A.uniq(e),function(e){return A.every(t,function(t){return A.indexOf(t,e)>=0})})};A.difference=function(e){var t=l.apply(a,c.call(arguments,1));return A.filter(e,function(e){return!A.contains(t,e)})};A.zip=function(){var e=c.call(arguments);var t=A.max(A.pluck(e,"length"));var r=new Array(t);for(var n=0;n<t;n++){r[n]=A.pluck(e,""+n)}return r};A.object=function(e,t){if(e==null)return{};var r={};for(var n=0,i=e.length;n<i;n++){if(t){r[e[n]]=t[n]}else{r[e[n][0]]=e[n][1]}}return r};A.indexOf=function(e,t,r){if(e==null)return-1;var n=0,i=e.length;if(r){if(typeof r=="number"){n=r<0?Math.max(0,i+r):r}else{n=A.sortedIndex(e,t);return e[n]===t?n:-1}}if(b&&e.indexOf===b)return e.indexOf(t,r);for(;n<i;n++)if(e[n]===t)return n;return-1};A.lastIndexOf=function(e,t,r){if(e==null)return-1;var n=r!=null;if(w&&e.lastIndexOf===w){return n?e.lastIndexOf(t,r):e.lastIndexOf(t)}var i=n?r:e.length;while(i--)if(e[i]===t)return i;return-1};A.range=function(e,t,r){if(arguments.length<=1){t=e||0;e=0}r=arguments[2]||1;var n=Math.max(Math.ceil((t-e)/r),0);var i=0;var a=new Array(n);while(i<n){a[i++]=e;e+=r}return a};A.bind=function(e,t){if(e.bind===E&&E)return E.apply(e,c.call(arguments,1));var r=c.call(arguments,2);return function(){return e.apply(t,r.concat(c.call(arguments)))}};A.partial=function(e){var t=c.call(arguments,1);return function(){return e.apply(this,t.concat(c.call(arguments)))}};A.bindAll=function(e){var t=c.call(arguments,1);if(t.length===0)t=A.functions(e);S(t,function(t){e[t]=A.bind(e[t],e)});return e};A.memoize=function(e,t){var r={};t||(t=A.identity);return function(){var n=t.apply(this,arguments);return A.has(r,n)?r[n]:r[n]=e.apply(this,arguments)}};A.delay=function(e,t){var r=c.call(arguments,2);return setTimeout(function(){return e.apply(null,r)},t)};A.defer=function(e){return A.delay.apply(A,[e,1].concat(c.call(arguments,1)))};A.throttle=function(e,t){var r,n,i,a;var s=0;var o=function(){s=new Date;i=null;a=e.apply(r,n)};return function(){var u=new Date;var c=t-(u-s);r=this;n=arguments;if(c<=0){clearTimeout(i);i=null;s=u;a=e.apply(r,n)}else if(!i){i=setTimeout(o,c)}return a}};A.debounce=function(e,t,r){var n,i;return function(){var a=this,s=arguments;var o=function(){n=null;if(!r)i=e.apply(a,s)};var u=r&&!n;clearTimeout(n);n=setTimeout(o,t);if(u)i=e.apply(a,s);return i}};A.once=function(e){var t=false,r;return function(){if(t)return r;t=true;r=e.apply(this,arguments);e=null;return r}};A.wrap=function(e,t){return function(){var r=[e];u.apply(r,arguments);return t.apply(this,r)}};A.compose=function(){var e=arguments;return function(){var t=arguments;for(var r=e.length-1;r>=0;r--){t=[e[r].apply(this,t)]}return t[0]}};A.after=function(e,t){if(e<=0)return t();return function(){if(--e<1){return t.apply(this,arguments)}}};A.keys=x||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var r in e)if(A.has(e,r))t[t.length]=r;return t};A.values=function(e){var t=[];for(var r in e)if(A.has(e,r))t.push(e[r]);return t};A.pairs=function(e){var t=[];for(var r in e)if(A.has(e,r))t.push([r,e[r]]);return t};A.invert=function(e){var t={};for(var r in e)if(A.has(e,r))t[e[r]]=r;return t};A.functions=A.methods=function(e){var t=[];for(var r in e){if(A.isFunction(e[r]))t.push(r)}return t.sort()};A.extend=function(e){S(c.call(arguments,1),function(t){if(t){for(var r in t){e[r]=t[r]}}});return e};A.pick=function(e){var t={};var r=l.apply(a,c.call(arguments,1));S(r,function(r){if(r in e)t[r]=e[r]});return t};A.omit=function(e){var t={};var r=l.apply(a,c.call(arguments,1));for(var n in e){if(!A.contains(r,n))t[n]=e[n]}return t};A.defaults=function(e){S(c.call(arguments,1),function(t){if(t){for(var r in t){if(e[r]==null)e[r]=t[r]}}});return e};A.clone=function(e){if(!A.isObject(e))return e;return A.isArray(e)?e.slice():A.extend({},e)};A.tap=function(e,t){t(e);return e};var I=function(e,t,r,n){if(e===t)return e!==0||1/e==1/t;if(e==null||t==null)return e===t;if(e instanceof A)e=e._wrapped;if(t instanceof A)t=t._wrapped;var i=f.call(e);if(i!=f.call(t))return false;switch(i){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:e==0?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if(typeof e!="object"||typeof t!="object")return false;var a=r.length;while(a--){if(r[a]==e)return n[a]==t}r.push(e);n.push(t);var s=0,o=true;if(i=="[object Array]"){s=e.length;o=s==t.length;if(o){while(s--){if(!(o=I(e[s],t[s],r,n)))break}}}else{var u=e.constructor,c=t.constructor;if(u!==c&&!(A.isFunction(u)&&u instanceof u&&A.isFunction(c)&&c instanceof c)){return false}for(var l in e){if(A.has(e,l)){s++;if(!(o=A.has(t,l)&&I(e[l],t[l],r,n)))break}}if(o){for(l in t){if(A.has(t,l)&&!s--)break}o=!s}}r.pop();n.pop();return o};A.isEqual=function(e,t){return I(e,t,[],[])};A.isEmpty=function(e){if(e==null)return true;if(A.isArray(e)||A.isString(e))return e.length===0;for(var t in e)if(A.has(e,t))return false;return true};A.isElement=function(e){return!!(e&&e.nodeType===1)};A.isArray=O||function(e){return f.call(e)=="[object Array]"};A.isObject=function(e){return e===Object(e)};S(["Arguments","Function","String","Number","Date","RegExp"],function(e){A["is"+e]=function(t){return f.call(t)=="[object "+e+"]"}});if(!A.isArguments(arguments)){A.isArguments=function(e){return!!(e&&A.has(e,"callee"))}}if(true){A.isFunction=function(e){return typeof e==="function"}}A.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))};A.isNaN=function(e){return A.isNumber(e)&&e!=+e};A.isBoolean=function(e){return e===true||e===false||f.call(e)=="[object Boolean]"};A.isNull=function(e){return e===null};A.isUndefined=function(e){return e===void 0};A.has=function(e,t){return h.call(e,t)};A.noConflict=function(){r._=n;return this};A.identity=function(e){return e};A.times=function(e,t,r){var n=Array(e);for(var i=0;i<e;i++)n[i]=t.call(r,i);return n};A.random=function(e,t){if(t==null){t=e;e=0}return e+Math.floor(Math.random()*(t-e+1))};var k={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};k.unescape=A.invert(k.escape);var U={escape:new RegExp("["+A.keys(k.escape).join("")+"]","g"),unescape:new RegExp("("+A.keys(k.unescape).join("|")+")","g")};A.each(["escape","unescape"],function(e){A[e]=function(t){if(t==null)return"";return(""+t).replace(U[e],function(t){return k[e][t]})}});A.result=function(e,t){if(e==null)return null;var r=e[t];return A.isFunction(r)?r.call(e):r};A.mixin=function(e){S(A.functions(e),function(t){var r=A[t]=e[t];A.prototype[t]=function(){var e=[this._wrapped];u.apply(e,arguments);return F.call(this,r.apply(A,e))}})};var T=0;A.uniqueId=function(e){var t=++T+"";return e?e+t:t};A.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var D=/(.)^/;var M={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"};var L=/\\|'|\r|\n|\t|\u2028|\u2029/g;A.template=function(e,t,r){var n;r=A.defaults({},r,A.templateSettings);var i=new RegExp([(r.escape||D).source,(r.interpolate||D).source,(r.evaluate||D).source].join("|")+"|$","g");var a=0;var s="__p+='";e.replace(i,function(t,r,n,i,o){s+=e.slice(a,o).replace(L,function(e){return"\\"+M[e]});if(r){s+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'"}if(n){s+="'+\n((__t=("+n+"))==null?'':__t)+\n'"}if(i){s+="';\n"+i+"\n__p+='"}a=o+t.length;return t});s+="';\n";if(!r.variable)s="with(obj||{}){\n"+s+"}\n";s="var __t,__p='',__j=Array.prototype.join,"+"print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{n=new Function(r.variable||"obj","_",s)}catch(o){o.source=s;throw o}if(t)return n(t,A);var u=function(e){return n.call(this,e,A)};u.source="function("+(r.variable||"obj")+"){\n"+s+"}";return u};A.chain=function(e){return A(e).chain()};var F=function(e){return this._chain?A(e).chain():e};A.mixin(A);S(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=a[e];A.prototype[e]=function(){var r=this._wrapped;t.apply(r,arguments);if((e=="shift"||e=="splice")&&r.length===0)delete r[0];return F.call(this,r)}});S(["concat","join","slice"],function(e){var t=a[e];A.prototype[e]=function(){return F.call(this,t.apply(this._wrapped,arguments))}});A.extend(A.prototype,{chain:function(){this._chain=true;return this},value:function(){return this._wrapped}})}).call(this);(function(e){e.Parse=e.Parse||{};var i=e.Parse;if(typeof t!=="undefined"&&t._){i._=t._.noConflict();i.localStorage=r(44);i.XMLHttpRequest=r(25).XMLHttpRequest;t.Parse=i}else{i._=_.noConflict();if(typeof localStorage!=="undefined"){i.localStorage=localStorage}if(typeof XMLHttpRequest!=="undefined"){i.XMLHttpRequest=XMLHttpRequest}}if(typeof $!=="undefined"){i.$=$}var a=function(){};var s=function(e,t,r){var n;if(t&&t.hasOwnProperty("constructor")){n=t.constructor}else{n=function(){e.apply(this,arguments)}}i._.extend(n,e);a.prototype=e.prototype;n.prototype=new a;if(t){i._.extend(n.prototype,t)}if(r){i._.extend(n,r)}n.prototype.constructor=n;n.__super__=e.prototype;return n};i.serverURL="https://api.parse.com";if(typeof n!=="undefined"&&n.versions&&n.versions.node){i._isNode=true}i.initialize=function(e,t,r){if(r){throw"Parse.initialize() was passed a Master Key, which is only "+"allowed from within Node.js."}i._initialize(e,t)};i._initialize=function(e,t,r){i.applicationId=e;i.javaScriptKey=t;i.masterKey=r;i._useMasterKey=false};if(i._isNode){i.initialize=i._initialize;i.Cloud=i.Cloud||{};i.Cloud.useMasterKey=function(){i._useMasterKey=true}}i._getParsePath=function(e){if(!i.applicationId){throw"You need to call Parse.initialize before using Parse."}if(!e){e=""}if(!i._.isString(e)){throw"Tried to get a localStorage path that wasn't a String."}if(e[0]==="/"){e=e.substring(1)}return"Parse/"+i.applicationId+"/"+e};i._installationId=null;i._getInstallationId=function(){if(i._installationId){return i._installationId}var e=i._getParsePath("installationId");i._installationId=i.localStorage.getItem(e);if(!i._installationId||i._installationId===""){var t=function(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)};i._installationId=t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t();i.localStorage.setItem(e,i._installationId)}return i._installationId};i._parseDate=function(e){var t=new RegExp("^([0-9]{1,4})-([0-9]{1,2})-([0-9]{1,2})"+"T"+"([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2})"+"(.([0-9]+))?"+"Z$");var r=t.exec(e);if(!r){return null}var n=r[1]||0;var i=(r[2]||1)-1;var a=r[3]||0;var s=r[4]||0;var o=r[5]||0;var u=r[6]||0;var c=r[8]||0;return new Date(Date.UTC(n,i,a,s,o,u,c))};i._ajaxIE8=function(e,t,r){var n=new i.Promise;var a=new XDomainRequest;a.onload=function(){var e;try{e=JSON.parse(a.responseText)}catch(t){n.reject(t)}if(e){n.resolve(e)}};a.onerror=a.ontimeout=function(){var e={responseText:JSON.stringify({code:i.Error.X_DOMAIN_REQUEST,error:"IE's XDomainRequest does not supply error info."})};n.reject(e)};a.onprogress=function(){};a.open(e,t);a.send(r);return n};i._useXDomainRequest=function(){if(typeof XDomainRequest!=="undefined"){if("withCredentials"in new XMLHttpRequest){return false}return true}return false};i._ajax=function(e,t,r,a,s){var o={success:a,error:s};if(i._useXDomainRequest()){return i._ajaxIE8(e,t,r)._thenRunCallbacks(o)}var u=new i.Promise;var c=false;var l=new i.XMLHttpRequest;l.onreadystatechange=function(){if(l.readyState===4){if(c){return}c=true;if(l.status>=200&&l.status<300){var e;try{e=JSON.parse(l.responseText)}catch(t){u.reject(t)}if(e){u.resolve(e,l.status,l)}}else{u.reject(l)}}};l.open(e,t,true);l.setRequestHeader("Content-Type","text/plain");if(i._isNode){l.setRequestHeader("User-Agent","Parse/"+i.VERSION+" (NodeJS "+n.versions.node+")")}l.send(r);return u._thenRunCallbacks(o)};i._extend=function(e,t){var r=s(this,e,t);r.extend=this.extend;return r};i._request=function(e){var t=e.route;var r=e.className;var n=e.objectId;var a=e.method;var s=e.useMasterKey;var o=e.sessionToken;var u=e.data;if(!i.applicationId){throw"You must specify your applicationId using Parse.initialize."}if(!i.javaScriptKey&&!i.masterKey){throw"You must specify a key using Parse.initialize."}if(!o){var c=i.User.current();if(c&&c._sessionToken){o=c._sessionToken}}if(t!=="batch"&&t!=="classes"&&t!=="events"&&t!=="files"&&t!=="functions"&&t!=="login"&&t!=="push"&&t!=="requestPasswordReset"&&t!=="rest_verify_analytics"&&t!=="users"&&t!=="jobs"&&t!=="config"){throw"Bad route: '"+t+"'."}var l=i.serverURL;if(l.charAt(l.length-1)!=="/"){l+="/"}l+="1/"+t;if(r){l+="/"+r}if(n){l+="/"+n}u=i._.clone(u||{});if(a!=="POST"){u._method=a;a="POST"}if(i._.isUndefined(s)){s=i._useMasterKey}u._ApplicationId=i.applicationId;if(!s){u._JavaScriptKey=i.javaScriptKey}else{u._MasterKey=i.masterKey}u._ClientVersion=i.VERSION;u._InstallationId=i._getInstallationId();if(o){u._SessionToken=o}var f=JSON.stringify(u);return i._ajax(a,l,f).then(null,function(e){var t;if(e&&e.responseText){try{var r=JSON.parse(e.responseText);t=new i.Error(r.code,r.error)}catch(n){t=new i.Error(i.Error.INVALID_JSON,"Received an error with invalid JSON from Parse: "+e.responseText)}}else{t=new i.Error(i.Error.CONNECTION_FAILED,"XMLHttpRequest failed: "+JSON.stringify(e))}return i.Promise.error(t)})};i._getValue=function(e,t){if(!(e&&e[t])){return null}return i._.isFunction(e[t])?e[t]():e[t]};i._encode=function(e,t,r){var n=i._;if(e instanceof i.Object){if(r){throw"Parse.Objects not allowed here"}if(!t||n.include(t,e)||!e._hasData){return e._toPointer()}if(!e.dirty()){t=t.concat(e);return i._encode(e._toFullJSON(t),t,r)}throw"Tried to save an object with a pointer to a new, unsaved object."}if(e instanceof i.ACL){return e.toJSON()}if(n.isDate(e)){return{__type:"Date",iso:e.toJSON()}}if(e instanceof i.GeoPoint){return e.toJSON()}if(n.isArray(e)){return n.map(e,function(e){return i._encode(e,t,r)})}if(n.isRegExp(e)){return e.source}if(e instanceof i.Relation){return e.toJSON()}if(e instanceof i.Op){return e.toJSON()}if(e instanceof i.File){if(!e.url()){throw"Tried to save an object containing an unsaved file."}return{__type:"File",name:e.name(),url:e.url()}}if(n.isObject(e)){var a={};i._objectEach(e,function(e,n){a[n]=i._encode(e,t,r)});return a}return e};i._decode=function(e,t){var r=i._;if(!r.isObject(t)){return t}if(r.isArray(t)){i._arrayEach(t,function(e,r){t[r]=i._decode(r,e)});return t}if(t instanceof i.Object){return t}if(t instanceof i.File){return t}if(t instanceof i.Op){return t}if(t.__op){return i.Op._decode(t)}if(t.__type==="Pointer"&&t.className){var n=i.Object._create(t.className);n._finishFetch({objectId:t.objectId},false);return n}if(t.__type==="Object"&&t.className){var a=t.className;delete t.__type;delete t.className;var s=i.Object._create(a);s._finishFetch(t,true);return s}if(t.__type==="Date"){return i._parseDate(t.iso)}if(t.__type==="GeoPoint"){return new i.GeoPoint({latitude:t.latitude,longitude:t.longitude})}if(e==="ACL"){if(t instanceof i.ACL){return t}return new i.ACL(t)}if(t.__type==="Relation"){var o=new i.Relation(null,e);o.targetClassName=t.className;return o}if(t.__type==="File"){var u=new i.File(t.name);u._url=t.url;return u}i._objectEach(t,function(e,r){t[r]=i._decode(r,e)});return t};i._arrayEach=i._.each;i._traverse=function(e,t,r){if(e instanceof i.Object){r=r||[];if(i._.indexOf(r,e)>=0){return}r.push(e);i._traverse(e.attributes,t,r);return t(e)}if(e instanceof i.Relation||e instanceof i.File){return t(e)}if(i._.isArray(e)){i._.each(e,function(n,a){var s=i._traverse(n,t,r);if(s){e[a]=s}});return t(e)}if(i._.isObject(e)){i._each(e,function(n,a){var s=i._traverse(n,t,r);if(s){e[a]=s}});return t(e)}return t(e)};i._objectEach=i._each=function(e,t){var r=i._;if(r.isObject(e)){r.each(r.keys(e),function(r){t(e[r],r)})}else{r.each(e,t)}};i._isNullOrUndefined=function(e){return i._.isNull(e)||i._.isUndefined(e)}})(this);(function(e){e.Parse=e.Parse||{};var t=e.Parse;var r=t._;t.Analytics=t.Analytics||{};r.extend(t.Analytics,{track:function(e,n){e=e||"";e=e.replace(/^\s*/,"");e=e.replace(/\s*$/,"");if(e.length===0){throw"A name for the custom event must be provided"}r.each(n,function(e,t){if(!r.isString(t)||!r.isString(e)){throw'track() dimensions expects keys and values of type "string".'}});return t._request({route:"events",className:e,method:"POST",data:{dimensions:n}})}})})(this);(function(e){e.Parse=e.Parse||{};var t=e.Parse;var r=t._;t.Config=function(){this.attributes={};this._escapedAttributes={}};t.Config.current=function(){if(t.Config._currentConfig){return t.Config._currentConfig}var e=t.localStorage.getItem(t._getParsePath(t.Config._CURRENT_CONFIG_KEY));var r=new t.Config;if(e){r._finishFetch(JSON.parse(e));t.Config._currentConfig=r}return r};t.Config.get=function(e){e=e||{};var r=t._request({route:"config",method:"GET"});return r.then(function(e){if(!e||!e.params){var r=new t.Error(t.Error.INVALID_JSON,"Config JSON response invalid.");return t.Promise.error(r)}var n=new t.Config;n._finishFetch(e);t.Config._currentConfig=n;return n})._thenRunCallbacks(e)};t.Config.prototype={escape:function(e){var n=this._escapedAttributes[e];if(n){return n}var i=this.attributes[e];var a;if(t._isNullOrUndefined(i)){a=""}else{a=r.escape(i.toString())}this._escapedAttributes[e]=a;return a},get:function(e){return this.attributes[e]},_finishFetch:function(e){this.attributes=t._decode(null,r.clone(e.params));t.localStorage.setItem(t._getParsePath(t.Config._CURRENT_CONFIG_KEY),JSON.stringify(e))}};t.Config._currentConfig=null;t.Config._CURRENT_CONFIG_KEY="currentConfig"})(this);(function(e){e.Parse=e.Parse||{};var t=e.Parse;var r=t._;t.Error=function(e,t){this.code=e;this.message=t};r.extend(t.Error,{OTHER_CAUSE:-1,INTERNAL_SERVER_ERROR:1,CONNECTION_FAILED:100,OBJECT_NOT_FOUND:101,INVALID_QUERY:102,INVALID_CLASS_NAME:103,MISSING_OBJECT_ID:104,INVALID_KEY_NAME:105,INVALID_POINTER:106,INVALID_JSON:107,COMMAND_UNAVAILABLE:108,NOT_INITIALIZED:109,INCORRECT_TYPE:111,INVALID_CHANNEL_NAME:112,PUSH_MISCONFIGURED:115,OBJECT_TOO_LARGE:116,OPERATION_FORBIDDEN:119,CACHE_MISS:120,INVALID_NESTED_KEY:121,INVALID_FILE_NAME:122,INVALID_ACL:123,TIMEOUT:124,INVALID_EMAIL_ADDRESS:125,MISSING_CONTENT_TYPE:126,MISSING_CONTENT_LENGTH:127,INVALID_CONTENT_LENGTH:128,FILE_TOO_LARGE:129,FILE_SAVE_ERROR:130,FILE_DELETE_ERROR:153,DUPLICATE_VALUE:137,INVALID_ROLE_NAME:139,EXCEEDED_QUOTA:140,SCRIPT_FAILED:141,VALIDATION_ERROR:142,INVALID_IMAGE_DATA:150,UNSAVED_FILE_ERROR:151,INVALID_PUSH_TIME_ERROR:152,USERNAME_MISSING:200,PASSWORD_MISSING:201,USERNAME_TAKEN:202,EMAIL_TAKEN:203,EMAIL_MISSING:204,EMAIL_NOT_FOUND:205,SESSION_MISSING:206,MUST_CREATE_USER_THROUGH_SIGNUP:207,ACCOUNT_ALREADY_LINKED:208,LINKED_ID_MISSING:250,INVALID_LINKED_SESSION:251,UNSUPPORTED_SERVICE:252,AGGREGATE_ERROR:600,FILE_READ_ERROR:601,X_DOMAIN_REQUEST:602})})(this);(function(){var e=this;var t=e.Parse||(e.Parse={});var r=/\s+/;var n=Array.prototype.slice;t.Events={on:function(e,t,n){var i,a,s,o,u;if(!t){return this}e=e.split(r);i=this._callbacks||(this._callbacks={});a=e.shift();while(a){u=i[a];s=u?u.tail:{};s.next=o={};s.context=n;s.callback=t;i[a]={tail:o,next:u?u.next:s};a=e.shift()}return this},off:function(e,t,n){var i,a,s,o,u,c;if(!(a=this._callbacks)){return}if(!(e||t||n)){delete this._callbacks;return this}e=e?e.split(r):_.keys(a);i=e.shift();while(i){s=a[i];delete a[i];if(!s||!(t||n)){continue}o=s.tail;s=s.next;while(s!==o){u=s.callback;c=s.context;if(t&&u!==t||n&&c!==n){this.on(i,u,c)}s=s.next}i=e.shift()}return this},trigger:function(e){var t,i,a,s,o,u,c;if(!(a=this._callbacks)){return this}u=a.all;e=e.split(r);c=n.call(arguments,1);t=e.shift();while(t){i=a[t];if(i){s=i.tail;while((i=i.next)!==s){i.callback.apply(i.context||this,c)}}i=u;if(i){s=i.tail;o=[t].concat(c);while((i=i.next)!==s){i.callback.apply(i.context||this,o)}}t=e.shift()}return this}};t.Events.bind=t.Events.on;t.Events.unbind=t.Events.off}).call(this);(function(e){e.Parse=e.Parse||{};var t=e.Parse;var r=t._;t.GeoPoint=function(e,n){if(r.isArray(e)){t.GeoPoint._validate(e[0],e[1]);this.latitude=e[0];this.longitude=e[1]}else if(r.isObject(e)){t.GeoPoint._validate(e.latitude,e.longitude);this.latitude=e.latitude;this.longitude=e.longitude}else if(r.isNumber(e)&&r.isNumber(n)){t.GeoPoint._validate(e,n);this.latitude=e;this.longitude=n}else{this.latitude=0;this.longitude=0}var i=this;if(this.__defineGetter__&&this.__defineSetter__){this._latitude=this.latitude;this._longitude=this.longitude;this.__defineGetter__("latitude",function(){return i._latitude});this.__defineGetter__("longitude",function(){return i._longitude});this.__defineSetter__("latitude",function(e){t.GeoPoint._validate(e,i.longitude);i._latitude=e});this.__defineSetter__("longitude",function(e){t.GeoPoint._validate(i.latitude,e);i._longitude=e})}};t.GeoPoint._validate=function(e,t){if(e<-90){throw"Parse.GeoPoint latitude "+e+" < -90.0."}if(e>90){throw"Parse.GeoPoint latitude "+e+" > 90.0."}if(t<-180){throw"Parse.GeoPoint longitude "+t+" < -180.0."}if(t>180){throw"Parse.GeoPoint longitude "+t+" > 180.0."}};t.GeoPoint.current=function(e){var r=new t.Promise;navigator.geolocation.getCurrentPosition(function(e){r.resolve(new t.GeoPoint({latitude:e.coords.latitude,longitude:e.coords.longitude}))},function(e){r.reject(e)});return r._thenRunCallbacks(e)};t.GeoPoint.prototype={toJSON:function(){t.GeoPoint._validate(this.latitude,this.longitude);return{__type:"GeoPoint",latitude:this.latitude,longitude:this.longitude}},radiansTo:function(e){var t=Math.PI/180;var r=this.latitude*t;var n=this.longitude*t;var i=e.latitude*t;var a=e.longitude*t;var s=r-i;var o=n-a;var u=Math.sin(s/2);var c=Math.sin(o/2);var l=u*u+Math.cos(r)*Math.cos(i)*c*c;l=Math.min(1,l);return 2*Math.asin(Math.sqrt(l))},kilometersTo:function(e){return this.radiansTo(e)*6371},milesTo:function(e){return this.radiansTo(e)*3958.8}}})(this);(function(e){e.Parse=e.Parse||{};var t=e.Parse;var r=t._;var n="*";t.ACL=function(e){var n=this;n.permissionsById={};if(r.isObject(e)){if(e instanceof t.User){n.setReadAccess(e,true);n.setWriteAccess(e,true)}else{if(r.isFunction(e)){throw"Parse.ACL() called with a function.  Did you forget ()?"}t._objectEach(e,function(e,i){if(!r.isString(i)){throw"Tried to create an ACL with an invalid userId."}n.permissionsById[i]={};t._objectEach(e,function(e,t){if(t!=="read"&&t!=="write"){throw"Tried to create an ACL with an invalid permission type."}if(!r.isBoolean(e)){throw"Tried to create an ACL with an invalid permission value."}n.permissionsById[i][t]=e})})}}};t.ACL.prototype.toJSON=function(){return r.clone(this.permissionsById)};t.ACL.prototype._setAccess=function(e,n,i){if(n instanceof t.User){n=n.id}else if(n instanceof t.Role){n="role:"+n.getName()}if(!r.isString(n)){throw"userId must be a string."}if(!r.isBoolean(i)){throw"allowed must be either true or false."}var a=this.permissionsById[n];if(!a){if(!i){return}else{a={};this.permissionsById[n]=a}}if(i){this.permissionsById[n][e]=true}else{delete a[e];if(r.isEmpty(a)){delete a[n]}}};t.ACL.prototype._getAccess=function(e,r){if(r instanceof t.User){r=r.id}else if(r instanceof t.Role){r="role:"+r.getName()}var n=this.permissionsById[r];if(!n){return false}return n[e]?true:false};t.ACL.prototype.setReadAccess=function(e,t){this._setAccess("read",e,t)};t.ACL.prototype.getReadAccess=function(e){return this._getAccess("read",e)};t.ACL.prototype.setWriteAccess=function(e,t){this._setAccess("write",e,t)};t.ACL.prototype.getWriteAccess=function(e){return this._getAccess("write",e)};t.ACL.prototype.setPublicReadAccess=function(e){this.setReadAccess(n,e)};t.ACL.prototype.getPublicReadAccess=function(){return this.getReadAccess(n)};t.ACL.prototype.setPublicWriteAccess=function(e){this.setWriteAccess(n,e)};t.ACL.prototype.getPublicWriteAccess=function(){return this.getWriteAccess(n)};t.ACL.prototype.getRoleReadAccess=function(e){if(e instanceof t.Role){e=e.getName()}if(r.isString(e)){return this.getReadAccess("role:"+e)}throw"role must be a Parse.Role or a String"};t.ACL.prototype.getRoleWriteAccess=function(e){if(e instanceof t.Role){e=e.getName()}if(r.isString(e)){return this.getWriteAccess("role:"+e)}throw"role must be a Parse.Role or a String"};t.ACL.prototype.setRoleReadAccess=function(e,n){if(e instanceof t.Role){e=e.getName()}if(r.isString(e)){this.setReadAccess("role:"+e,n);return}throw"role must be a Parse.Role or a String"};t.ACL.prototype.setRoleWriteAccess=function(e,n){if(e instanceof t.Role){e=e.getName()}if(r.isString(e)){this.setWriteAccess("role:"+e,n);return}throw"role must be a Parse.Role or a String"}})(this);(function(e){e.Parse=e.Parse||{};var t=e.Parse;var r=t._;t.Op=function(){this._initialize.apply(this,arguments)};t.Op.prototype={_initialize:function(){}};r.extend(t.Op,{_extend:t._extend,_opDecoderMap:{},_registerDecoder:function(e,r){t.Op._opDecoderMap[e]=r},_decode:function(e){var r=t.Op._opDecoderMap[e.__op];if(r){return r(e)}else{return undefined}}});t.Op._registerDecoder("Batch",function(e){var r=null;t._arrayEach(e.ops,function(e){e=t.Op._decode(e);r=e._mergeWithPrevious(r)});return r});t.Op.Set=t.Op._extend({_initialize:function(e){this._value=e},value:function(){return this._value},toJSON:function(){return t._encode(this.value())},_mergeWithPrevious:function(e){return this},_estimate:function(e){return this.value()}});t.Op._UNSET={};t.Op.Unset=t.Op._extend({toJSON:function(){return{__op:"Delete"}},_mergeWithPrevious:function(e){return this},_estimate:function(e){return t.Op._UNSET}});t.Op._registerDecoder("Delete",function(e){return new t.Op.Unset});t.Op.Increment=t.Op._extend({_initialize:function(e){this._amount=e},amount:function(){return this._amount},toJSON:function(){return{__op:"Increment",amount:this._amount}},_mergeWithPrevious:function(e){if(!e){return this}else if(e instanceof t.Op.Unset){return new t.Op.Set(this.amount())}else if(e instanceof t.Op.Set){return new t.Op.Set(e.value()+this.amount())}else if(e instanceof t.Op.Increment){return new t.Op.Increment(this.amount()+e.amount())}else{throw"Op is invalid after previous op."}},_estimate:function(e){if(!e){return this.amount()}return e+this.amount()}});t.Op._registerDecoder("Increment",function(e){return new t.Op.Increment(e.amount)});t.Op.Add=t.Op._extend({_initialize:function(e){this._objects=e},objects:function(){return this._objects},toJSON:function(){return{__op:"Add",objects:t._encode(this.objects())}},_mergeWithPrevious:function(e){if(!e){return this
}else if(e instanceof t.Op.Unset){return new t.Op.Set(this.objects())}else if(e instanceof t.Op.Set){return new t.Op.Set(this._estimate(e.value()))}else if(e instanceof t.Op.Add){return new t.Op.Add(e.objects().concat(this.objects()))}else{throw"Op is invalid after previous op."}},_estimate:function(e){if(!e){return r.clone(this.objects())}else{return e.concat(this.objects())}}});t.Op._registerDecoder("Add",function(e){return new t.Op.Add(t._decode(undefined,e.objects))});t.Op.AddUnique=t.Op._extend({_initialize:function(e){this._objects=r.uniq(e)},objects:function(){return this._objects},toJSON:function(){return{__op:"AddUnique",objects:t._encode(this.objects())}},_mergeWithPrevious:function(e){if(!e){return this}else if(e instanceof t.Op.Unset){return new t.Op.Set(this.objects())}else if(e instanceof t.Op.Set){return new t.Op.Set(this._estimate(e.value()))}else if(e instanceof t.Op.AddUnique){return new t.Op.AddUnique(this._estimate(e.objects()))}else{throw"Op is invalid after previous op."}},_estimate:function(e){if(!e){return r.clone(this.objects())}else{var n=r.clone(e);t._arrayEach(this.objects(),function(e){if(e instanceof t.Object&&e.id){var i=r.find(n,function(r){return r instanceof t.Object&&r.id===e.id});if(!i){n.push(e)}else{var a=r.indexOf(n,i);n[a]=e}}else if(!r.contains(n,e)){n.push(e)}});return n}}});t.Op._registerDecoder("AddUnique",function(e){return new t.Op.AddUnique(t._decode(undefined,e.objects))});t.Op.Remove=t.Op._extend({_initialize:function(e){this._objects=r.uniq(e)},objects:function(){return this._objects},toJSON:function(){return{__op:"Remove",objects:t._encode(this.objects())}},_mergeWithPrevious:function(e){if(!e){return this}else if(e instanceof t.Op.Unset){return e}else if(e instanceof t.Op.Set){return new t.Op.Set(this._estimate(e.value()))}else if(e instanceof t.Op.Remove){return new t.Op.Remove(r.union(e.objects(),this.objects()))}else{throw"Op is invalid after previous op."}},_estimate:function(e){if(!e){return[]}else{var n=r.difference(e,this.objects());t._arrayEach(this.objects(),function(e){if(e instanceof t.Object&&e.id){n=r.reject(n,function(r){return r instanceof t.Object&&r.id===e.id})}});return n}}});t.Op._registerDecoder("Remove",function(e){return new t.Op.Remove(t._decode(undefined,e.objects))});t.Op.Relation=t.Op._extend({_initialize:function(e,n){this._targetClassName=null;var i=this;var a=function(e){if(e instanceof t.Object){if(!e.id){throw"You can't add an unsaved Parse.Object to a relation."}if(!i._targetClassName){i._targetClassName=e.className}if(i._targetClassName!==e.className){throw"Tried to create a Parse.Relation with 2 different types: "+i._targetClassName+" and "+e.className+"."}return e.id}return e};this.relationsToAdd=r.uniq(r.map(e,a));this.relationsToRemove=r.uniq(r.map(n,a))},added:function(){var e=this;return r.map(this.relationsToAdd,function(r){var n=t.Object._create(e._targetClassName);n.id=r;return n})},removed:function(){var e=this;return r.map(this.relationsToRemove,function(r){var n=t.Object._create(e._targetClassName);n.id=r;return n})},toJSON:function(){var e=null;var t=null;var n=this;var i=function(e){return{__type:"Pointer",className:n._targetClassName,objectId:e}};var a=null;if(this.relationsToAdd.length>0){a=r.map(this.relationsToAdd,i);e={__op:"AddRelation",objects:a}}if(this.relationsToRemove.length>0){a=r.map(this.relationsToRemove,i);t={__op:"RemoveRelation",objects:a}}if(e&&t){return{__op:"Batch",ops:[e,t]}}return e||t||{}},_mergeWithPrevious:function(e){if(!e){return this}else if(e instanceof t.Op.Unset){throw"You can't modify a relation after deleting it."}else if(e instanceof t.Op.Relation){if(e._targetClassName&&e._targetClassName!==this._targetClassName){throw"Related object must be of class "+e._targetClassName+", but "+this._targetClassName+" was passed in."}var n=r.union(r.difference(e.relationsToAdd,this.relationsToRemove),this.relationsToAdd);var i=r.union(r.difference(e.relationsToRemove,this.relationsToAdd),this.relationsToRemove);var a=new t.Op.Relation(n,i);a._targetClassName=this._targetClassName;return a}else{throw"Op is invalid after previous op."}},_estimate:function(e,r,n){if(!e){var i=new t.Relation(r,n);i.targetClassName=this._targetClassName}else if(e instanceof t.Relation){if(this._targetClassName){if(e.targetClassName){if(e.targetClassName!==this._targetClassName){throw"Related object must be a "+e.targetClassName+", but a "+this._targetClassName+" was passed in."}}else{e.targetClassName=this._targetClassName}}return e}else{throw"Op is invalid after previous op."}}});t.Op._registerDecoder("AddRelation",function(e){return new t.Op.Relation(t._decode(undefined,e.objects),[])});t.Op._registerDecoder("RemoveRelation",function(e){return new t.Op.Relation([],t._decode(undefined,e.objects))})})(this);(function(e){e.Parse=e.Parse||{};var t=e.Parse;var r=t._;t.Relation=function(e,t){this.parent=e;this.key=t;this.targetClassName=null};t.Relation.prototype={_ensureParentAndKey:function(e,t){this.parent=this.parent||e;this.key=this.key||t;if(this.parent!==e){throw"Internal Error. Relation retrieved from two different Objects."}if(this.key!==t){throw"Internal Error. Relation retrieved from two different keys."}},add:function(e){if(!r.isArray(e)){e=[e]}var n=new t.Op.Relation(e,[]);this.parent.set(this.key,n);this.targetClassName=n._targetClassName},remove:function(e){if(!r.isArray(e)){e=[e]}var n=new t.Op.Relation([],e);this.parent.set(this.key,n);this.targetClassName=n._targetClassName},toJSON:function(){return{__type:"Relation",className:this.targetClassName}},query:function(){var e;var r;if(!this.targetClassName){e=t.Object._getSubclass(this.parent.className);r=new t.Query(e);r._extraOptions.redirectClassNameForKey=this.key}else{e=t.Object._getSubclass(this.targetClassName);r=new t.Query(e)}r._addCondition("$relatedTo","object",this.parent._toPointer());r._addCondition("$relatedTo","key",this.key);return r}}})(this);(function(e){e.Parse=e.Parse||{};var t=e.Parse;var r=t._;t.Promise=function(){this._resolved=false;this._rejected=false;this._resolvedCallbacks=[];this._rejectedCallbacks=[]};r.extend(t.Promise,{_isPromisesAPlusCompliant:false,is:function(e){return e&&e.then&&r.isFunction(e.then)},as:function(){var e=new t.Promise;e.resolve.apply(e,arguments);return e},error:function(){var e=new t.Promise;e.reject.apply(e,arguments);return e},when:function(e){var r;if(e&&t._isNullOrUndefined(e.length)){r=arguments}else{r=e}var n=r.length;var i=false;var a=[];var s=[];a.length=r.length;s.length=r.length;if(n===0){return t.Promise.as.apply(this,a)}var o=new t.Promise;var u=function(){n=n-1;if(n===0){if(i){o.reject(s)}else{o.resolve.apply(o,a)}}};t._arrayEach(r,function(e,r){if(t.Promise.is(e)){e.then(function(e){a[r]=e;u()},function(e){s[r]=e;i=true;u()})}else{a[r]=e;u()}});return o},_continueWhile:function(e,r){if(e()){return r().then(function(){return t.Promise._continueWhile(e,r)})}return t.Promise.as()}});r.extend(t.Promise.prototype,{resolve:function(e){if(this._resolved||this._rejected){throw"A promise was resolved even though it had already been "+(this._resolved?"resolved":"rejected")+"."}this._resolved=true;this._result=arguments;var r=arguments;t._arrayEach(this._resolvedCallbacks,function(e){e.apply(this,r)});this._resolvedCallbacks=[];this._rejectedCallbacks=[]},reject:function(e){if(this._resolved||this._rejected){throw"A promise was rejected even though it had already been "+(this._resolved?"resolved":"rejected")+"."}this._rejected=true;this._error=e;t._arrayEach(this._rejectedCallbacks,function(t){t(e)});this._resolvedCallbacks=[];this._rejectedCallbacks=[]},then:function(e,r){var i=new t.Promise;var a=function(){var r=arguments;if(e){if(t.Promise._isPromisesAPlusCompliant){try{r=[e.apply(this,r)]}catch(n){r=[t.Promise.error(n)]}}else{r=[e.apply(this,r)]}}if(r.length===1&&t.Promise.is(r[0])){r[0].then(function(){i.resolve.apply(i,arguments)},function(e){i.reject(e)})}else{i.resolve.apply(i,r)}};var s=function(e){var n=[];if(r){if(t.Promise._isPromisesAPlusCompliant){try{n=[r(e)]}catch(a){n=[t.Promise.error(a)]}}else{n=[r(e)]}if(n.length===1&&t.Promise.is(n[0])){n[0].then(function(){i.resolve.apply(i,arguments)},function(e){i.reject(e)})}else{if(t.Promise._isPromisesAPlusCompliant){i.resolve.apply(i,n)}else{i.reject(n[0])}}}else{i.reject(e)}};var o=function(e){e.call()};if(t.Promise._isPromisesAPlusCompliant){if(typeof window!=="undefined"&&window.setTimeout){o=function(e){window.setTimeout(e,0)}}else if(typeof n!=="undefined"&&n.nextTick){o=function(e){n.nextTick(e)}}}var u=this;if(this._resolved){o(function(){a.apply(u,u._result)})}else if(this._rejected){o(function(){s(u._error)})}else{this._resolvedCallbacks.push(a);this._rejectedCallbacks.push(s)}return i},always:function(e){return this.then(e,e)},done:function(e){return this.then(e)},fail:function(e){return this.then(null,e)},_thenRunCallbacks:function(e,n){var i;if(r.isFunction(e)){var a=e;i={success:function(e){a(e,null)},error:function(e){a(null,e)}}}else{i=r.clone(e)}i=i||{};return this.then(function(e){if(i.success){i.success.apply(this,arguments)}else if(n){n.trigger("sync",n,e,i)}return t.Promise.as.apply(t.Promise,arguments)},function(e){if(i.error){if(!r.isUndefined(n)){i.error(n,e)}else{i.error(e)}}else if(n){n.trigger("error",n,e,i)}return t.Promise.error(e)})},_continueWith:function(e){return this.then(function(){return e(arguments,null)},function(t){return e(null,t)})}})})(this);(function(e){e.Parse=e.Parse||{};var t=e.Parse;var r=t._;var n=function(e){if(e<26){return String.fromCharCode(65+e)}if(e<52){return String.fromCharCode(97+(e-26))}if(e<62){return String.fromCharCode(48+(e-52))}if(e===62){return"+"}if(e===63){return"/"}throw"Tried to encode large digit "+e+" in base64."};var i=function(e){var t=[];t.length=Math.ceil(e.length/3);r.times(t.length,function(r){var i=e[r*3];var a=e[r*3+1]||0;var s=e[r*3+2]||0;var o=r*3+1<e.length;var u=r*3+2<e.length;t[r]=[n(i>>2&63),n(i<<4&48|a>>4&15),o?n(a<<2&60|s>>6&3):"=",u?n(s&63):"="].join("")});return t.join("")};var a={ai:"application/postscript",aif:"audio/x-aiff",aifc:"audio/x-aiff",aiff:"audio/x-aiff",asc:"text/plain",atom:"application/atom+xml",au:"audio/basic",avi:"video/x-msvideo",bcpio:"application/x-bcpio",bin:"application/octet-stream",bmp:"image/bmp",cdf:"application/x-netcdf",cgm:"image/cgm","class":"application/octet-stream",cpio:"application/x-cpio",cpt:"application/mac-compactpro",csh:"application/x-csh",css:"text/css",dcr:"application/x-director",dif:"video/x-dv",dir:"application/x-director",djv:"image/vnd.djvu",djvu:"image/vnd.djvu",dll:"application/octet-stream",dmg:"application/octet-stream",dms:"application/octet-stream",doc:"application/msword",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml."+"document",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml."+"template",docm:"application/vnd.ms-word.document.macroEnabled.12",dotm:"application/vnd.ms-word.template.macroEnabled.12",dtd:"application/xml-dtd",dv:"video/x-dv",dvi:"application/x-dvi",dxr:"application/x-director",eps:"application/postscript",etx:"text/x-setext",exe:"application/octet-stream",ez:"application/andrew-inset",gif:"image/gif",gram:"application/srgs",grxml:"application/srgs+xml",gtar:"application/x-gtar",hdf:"application/x-hdf",hqx:"application/mac-binhex40",htm:"text/html",html:"text/html",ice:"x-conference/x-cooltalk",ico:"image/x-icon",ics:"text/calendar",ief:"image/ief",ifb:"text/calendar",iges:"model/iges",igs:"model/iges",jnlp:"application/x-java-jnlp-file",jp2:"image/jp2",jpe:"image/jpeg",jpeg:"image/jpeg",jpg:"image/jpeg",js:"application/x-javascript",kar:"audio/midi",latex:"application/x-latex",lha:"application/octet-stream",lzh:"application/octet-stream",m3u:"audio/x-mpegurl",m4a:"audio/mp4a-latm",m4b:"audio/mp4a-latm",m4p:"audio/mp4a-latm",m4u:"video/vnd.mpegurl",m4v:"video/x-m4v",mac:"image/x-macpaint",man:"application/x-troff-man",mathml:"application/mathml+xml",me:"application/x-troff-me",mesh:"model/mesh",mid:"audio/midi",midi:"audio/midi",mif:"application/vnd.mif",mov:"video/quicktime",movie:"video/x-sgi-movie",mp2:"audio/mpeg",mp3:"audio/mpeg",mp4:"video/mp4",mpe:"video/mpeg",mpeg:"video/mpeg",mpg:"video/mpeg",mpga:"audio/mpeg",ms:"application/x-troff-ms",msh:"model/mesh",mxu:"video/vnd.mpegurl",nc:"application/x-netcdf",oda:"application/oda",ogg:"application/ogg",pbm:"image/x-portable-bitmap",pct:"image/pict",pdb:"chemical/x-pdb",pdf:"application/pdf",pgm:"image/x-portable-graymap",pgn:"application/x-chess-pgn",pic:"image/pict",pict:"image/pict",png:"image/png",pnm:"image/x-portable-anymap",pnt:"image/x-macpaint",pntg:"image/x-macpaint",ppm:"image/x-portable-pixmap",ppt:"application/vnd.ms-powerpoint",pptx:"application/vnd.openxmlformats-officedocument.presentationml."+"presentation",potx:"application/vnd.openxmlformats-officedocument.presentationml."+"template",ppsx:"application/vnd.openxmlformats-officedocument.presentationml."+"slideshow",ppam:"application/vnd.ms-powerpoint.addin.macroEnabled.12",pptm:"application/vnd.ms-powerpoint.presentation.macroEnabled.12",potm:"application/vnd.ms-powerpoint.template.macroEnabled.12",ppsm:"application/vnd.ms-powerpoint.slideshow.macroEnabled.12",ps:"application/postscript",qt:"video/quicktime",qti:"image/x-quicktime",qtif:"image/x-quicktime",ra:"audio/x-pn-realaudio",ram:"audio/x-pn-realaudio",ras:"image/x-cmu-raster",rdf:"application/rdf+xml",rgb:"image/x-rgb",rm:"application/vnd.rn-realmedia",roff:"application/x-troff",rtf:"text/rtf",rtx:"text/richtext",sgm:"text/sgml",sgml:"text/sgml",sh:"application/x-sh",shar:"application/x-shar",silo:"model/mesh",sit:"application/x-stuffit",skd:"application/x-koan",skm:"application/x-koan",skp:"application/x-koan",skt:"application/x-koan",smi:"application/smil",smil:"application/smil",snd:"audio/basic",so:"application/octet-stream",spl:"application/x-futuresplash",src:"application/x-wais-source",sv4cpio:"application/x-sv4cpio",sv4crc:"application/x-sv4crc",svg:"image/svg+xml",swf:"application/x-shockwave-flash",t:"application/x-troff",tar:"application/x-tar",tcl:"application/x-tcl",tex:"application/x-tex",texi:"application/x-texinfo",texinfo:"application/x-texinfo",tif:"image/tiff",tiff:"image/tiff",tr:"application/x-troff",tsv:"text/tab-separated-values",txt:"text/plain",ustar:"application/x-ustar",vcd:"application/x-cdlink",vrml:"model/vrml",vxml:"application/voicexml+xml",wav:"audio/x-wav",wbmp:"image/vnd.wap.wbmp",wbmxl:"application/vnd.wap.wbxml",wml:"text/vnd.wap.wml",wmlc:"application/vnd.wap.wmlc",wmls:"text/vnd.wap.wmlscript",wmlsc:"application/vnd.wap.wmlscriptc",wrl:"model/vrml",xbm:"image/x-xbitmap",xht:"application/xhtml+xml",xhtml:"application/xhtml+xml",xls:"application/vnd.ms-excel",xml:"application/xml",xpm:"image/x-xpixmap",xsl:"application/xml",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml."+"template",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.12",xltm:"application/vnd.ms-excel.template.macroEnabled.12",xlam:"application/vnd.ms-excel.addin.macroEnabled.12",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.12",xslt:"application/xslt+xml",xul:"application/vnd.mozilla.xul+xml",xwd:"image/x-xwindowdump",xyz:"chemical/x-xyz",zip:"application/zip"};var s=function(e,r){var n=new t.Promise;if(typeof FileReader==="undefined"){return t.Promise.error(new t.Error(t.Error.FILE_READ_ERROR,"Attempted to use a FileReader on an unsupported browser."))}var i=new FileReader;i.onloadend=function(){if(i.readyState!==2){n.reject(new t.Error(t.Error.FILE_READ_ERROR,"Error reading file."));return}var e=i.result;var a=/^data:([^;]*);base64,(.*)$/.exec(e);if(!a){n.reject(new t.Error(t.ERROR.FILE_READ_ERROR,"Unable to interpret data URL: "+e));return}n.resolve(a[2],r||a[1])};i.readAsDataURL(e);return n};t.File=function(e,n,o){this._name=e;var u=/\.([^.]*)$/.exec(e);if(u){u=u[1].toLowerCase()}var c=o||a[u]||"text/plain";if(r.isArray(n)){this._source=t.Promise.as(i(n),c)}else if(n&&n.base64){var l=/^data:([a-zA-Z]*\/[a-zA-Z+.-]*);(charset=[a-zA-Z0-9\-\/\s]*,)?base64,(\S+)/;var f=l.exec(n.base64);if(f&&f.length>0){this._source=t.Promise.as(f.length===4?f[3]:f[2],f[1])}else{this._source=t.Promise.as(n.base64,c)}}else if(typeof File!=="undefined"&&n instanceof File){this._source=s(n,o)}else if(r.isString(n)){throw"Creating a Parse.File from a String is not yet supported."}};t.File.prototype={name:function(){return this._name},url:function(){return this._url},save:function(e){e=e||{};var r=this;if(!r._previousSave){r._previousSave=r._source.then(function(n,i){var a={base64:n,_ContentType:i};return t._request({route:"files",className:r._name,method:"POST",data:a,useMasterKey:e.useMasterKey})}).then(function(e){r._name=e.name;r._url=e.url;return r})}return r._previousSave._thenRunCallbacks(e)}}})(this);(function(e){e.Parse=e.Parse||{};var t=e.Parse;var r=t._;t.Object=function(e,n){if(r.isString(e)){return t.Object._create.apply(this,arguments)}e=e||{};if(n&&n.parse){e=this.parse(e)}var i=t._getValue(this,"defaults");if(i){e=r.extend({},i,e)}if(n&&n.collection){this.collection=n.collection}this._serverData={};this._opSetQueue=[{}];this.attributes={};this._hashedJSON={};this._escapedAttributes={};this.cid=r.uniqueId("c");this.changed={};this._silent={};this._pending={};if(!this.set(e,{silent:true})){throw new Error("Can't create an invalid Parse.Object")}this.changed={};this._silent={};this._pending={};this._hasData=true;this._previousAttributes=r.clone(this.attributes);this.initialize.apply(this,arguments)};t.Object.saveAll=function(e,r){r=r||{};return t.Object._deepSaveAsync(e,{useMasterKey:r.useMasterKey})._thenRunCallbacks(r)};t.Object.destroyAll=function(e,n){n=n||{};var i=function(e){e.trigger("destroy",e,e.collection,n)};var a=[];var s=function(e){var s=t.Promise.as();if(e.length>0){s=s.then(function(){return t._request({route:"batch",method:"POST",useMasterKey:n.useMasterKey,data:{requests:r.map(e,function(e){return{method:"DELETE",path:"/1/classes/"+e.className+"/"+e.id}})}})}).then(function(r,s,o){t._arrayEach(e,function(e,s){if(r[s].success&&n.wait){i(e)}else if(r[s].error){var o=new t.Error(r[s].error.code,r[s].error.error);o.object=e;a.push(o)}})})}return s};var o=t.Promise.as();var u=[];t._arrayEach(e,function(t,r){if(!t.id||!n.wait){i(t)}if(t.id){u.push(t)}if(u.length===20||r+1===e.length){var a=u;u=[];o=o.then(function(){return s(a)})}});return o.then(function(){if(a.length===0){return true}else{var e=new t.Error(t.Error.AGGREGATE_ERROR,"Error deleting an object in destroyAll");e.errors=a;return t.Promise.error(e)}})._thenRunCallbacks(n)};t.Object.fetchAll=function(e,r){return t.Object._fetchAll(e,true)._thenRunCallbacks(r)};t.Object.fetchAllIfNeeded=function(e,r){return t.Object._fetchAll(e,false)._thenRunCallbacks(r)};r.extend(t.Object.prototype,t.Events,{_existed:false,initialize:function(){},toJSON:function(){var e=this._toFullJSON();t._arrayEach(["__type","className"],function(t){delete e[t]});return e},_toFullJSON:function(e){var n=r.clone(this.attributes);t._objectEach(n,function(r,i){n[i]=t._encode(r,e)});t._objectEach(this._operations,function(e,t){n[t]=e});if(r.has(this,"id")){n.objectId=this.id}if(r.has(this,"createdAt")){if(r.isDate(this.createdAt)){n.createdAt=this.createdAt.toJSON()}else{n.createdAt=this.createdAt}}if(r.has(this,"updatedAt")){if(r.isDate(this.updatedAt)){n.updatedAt=this.updatedAt.toJSON()}else{n.updatedAt=this.updatedAt}}n.__type="Object";n.className=this.className;return n},_refreshCache:function(){var e=this;if(e._refreshingCache){return}e._refreshingCache=true;t._objectEach(this.attributes,function(n,i){if(n instanceof t.Object){n._refreshCache()}else if(r.isObject(n)){if(e._resetCacheForKey(i)){e.set(i,new t.Op.Set(n),{silent:true})}}});delete e._refreshingCache},dirty:function(e){this._refreshCache();var t=r.last(this._opSetQueue);if(e){return t[e]?true:false}if(!this.id){return true}if(r.keys(t).length>0){return true}return false},dirtyKeys:function(){return r.keys(r.last(this._opSetQueue))},_toPointer:function(){if(!this.id){throw new Error("Can't serialize an unsaved Parse.Object")}return{__type:"Pointer",className:this.className,objectId:this.id}},get:function(e){return this.attributes[e]},relation:function(e){var r=this.get(e);if(r){if(!(r instanceof t.Relation)){throw"Called relation() on non-relation field "+e}r._ensureParentAndKey(this,e);return r}else{return new t.Relation(this,e)}},escape:function(e){var n=this._escapedAttributes[e];if(n){return n}var i=this.attributes[e];var a;if(t._isNullOrUndefined(i)){a=""}else{a=r.escape(i.toString())}this._escapedAttributes[e]=a;return a},has:function(e){return!t._isNullOrUndefined(this.attributes[e])},_mergeMagicFields:function(e){var n=this;var i=["id","objectId","createdAt","updatedAt"];t._arrayEach(i,function(i){if(e[i]){if(i==="objectId"){n.id=e[i]}else if((i==="createdAt"||i==="updatedAt")&&!r.isDate(e[i])){n[i]=t._parseDate(e[i])}else{n[i]=e[i]}delete e[i]}})},_copyServerData:function(e){var r={};t._objectEach(e,function(e,n){r[n]=t._decode(n,e)});this._serverData=r;this._rebuildAllEstimatedData();this._refreshCache();this._opSetQueue=[{}];this._rebuildAllEstimatedData()},_mergeFromObject:function(e){if(!e){return}this.id=e.id;this.createdAt=e.createdAt;this.updatedAt=e.updatedAt;this._copyServerData(e._serverData);this._hasData=true},_startSave:function(){this._opSetQueue.push({})},_cancelSave:function(){var e=this;var n=r.first(this._opSetQueue);this._opSetQueue=r.rest(this._opSetQueue);var i=r.first(this._opSetQueue);t._objectEach(n,function(e,t){var r=n[t];var a=i[t];if(r&&a){i[t]=a._mergeWithPrevious(r)}else if(r){i[t]=r}});this._saving=this._saving-1},_finishSave:function(e){var n={};t._traverse(this.attributes,function(e){if(e instanceof t.Object&&e.id&&e._hasData){n[e.id]=e}});var i=r.first(this._opSetQueue);this._opSetQueue=r.rest(this._opSetQueue);this._applyOpSet(i,this._serverData);this._mergeMagicFields(e);var a=this;t._objectEach(e,function(e,r){a._serverData[r]=t._decode(r,e);var i=t._traverse(a._serverData[r],function(e){if(e instanceof t.Object&&n[e.id]){return n[e.id]}});if(i){a._serverData[r]=i}});this._rebuildAllEstimatedData();this._saving=this._saving-1},_finishFetch:function(e,t){this._opSetQueue=[{}];this._mergeMagicFields(e);this._copyServerData(e);this._hasData=t},_applyOpSet:function(e,r){var n=this;t._objectEach(e,function(e,i){r[i]=e._estimate(r[i],n,i);if(r[i]===t.Op._UNSET){delete r[i]}})},_resetCacheForKey:function(e){var n=this.attributes[e];if(r.isObject(n)&&!(n instanceof t.Object)&&!(n instanceof t.File)){n=n.toJSON?n.toJSON():n;var i=JSON.stringify(n);if(this._hashedJSON[e]!==i){var a=!!this._hashedJSON[e];this._hashedJSON[e]=i;return a}}return false},_rebuildEstimatedDataForKey:function(e){var r=this;delete this.attributes[e];if(this._serverData[e]){this.attributes[e]=this._serverData[e]}t._arrayEach(this._opSetQueue,function(n){var i=n[e];if(i){r.attributes[e]=i._estimate(r.attributes[e],r,e);if(r.attributes[e]===t.Op._UNSET){delete r.attributes[e]}else{r._resetCacheForKey(e)}}})},_rebuildAllEstimatedData:function(){var e=this;var n=r.clone(this.attributes);this.attributes=r.clone(this._serverData);t._arrayEach(this._opSetQueue,function(r){e._applyOpSet(r,e.attributes);t._objectEach(r,function(t,r){e._resetCacheForKey(r)})});t._objectEach(n,function(t,r){if(e.attributes[r]!==t){e.trigger("change:"+r,e,e.attributes[r],{})}});t._objectEach(this.attributes,function(t,i){if(!r.has(n,i)){e.trigger("change:"+i,e,t,{})}})},set:function(e,n,i){var a,s;if(r.isObject(e)||t._isNullOrUndefined(e)){a=e;t._objectEach(a,function(e,r){a[r]=t._decode(r,e)});i=n}else{a={};a[e]=t._decode(e,n)}i=i||{};if(!a){return this}if(a instanceof t.Object){a=a.attributes}if(i.unset){t._objectEach(a,function(e,r){a[r]=new t.Op.Unset})}var o=r.clone(a);var u=this;t._objectEach(o,function(e,r){if(e instanceof t.Op){o[r]=e._estimate(u.attributes[r],u,r);if(o[r]===t.Op._UNSET){delete o[r]}}});if(!this._validate(a,i)){return false}this._mergeMagicFields(a);i.changes={};var c=this._escapedAttributes;var l=this._previousAttributes||{};t._arrayEach(r.keys(a),function(e){var n=a[e];if(n instanceof t.Relation){n.parent=u}if(!(n instanceof t.Op)){n=new t.Op.Set(n)}var s=true;if(n instanceof t.Op.Set&&r.isEqual(u.attributes[e],n.value)){s=false}if(s){delete c[e];if(i.silent){u._silent[e]=true}else{i.changes[e]=true}}var o=r.last(u._opSetQueue);o[e]=n._mergeWithPrevious(o[e]);u._rebuildEstimatedDataForKey(e);if(s){u.changed[e]=u.attributes[e];if(!i.silent){u._pending[e]=true}}else{delete u.changed[e];delete u._pending[e]}});if(!i.silent){this.change(i)}return this},unset:function(e,t){t=t||{};t.unset=true;return this.set(e,null,t)},increment:function(e,n){if(r.isUndefined(n)||r.isNull(n)){n=1}return this.set(e,new t.Op.Increment(n))},add:function(e,r){return this.set(e,new t.Op.Add([r]))},addUnique:function(e,r){return this.set(e,new t.Op.AddUnique([r]))},remove:function(e,r){return this.set(e,new t.Op.Remove([r]))},op:function(e){return r.last(this._opSetQueue)[e]},clear:function(e){e=e||{};e.unset=true;var t=r.extend(this.attributes,this._operations);return this.set(t,e)},_getSaveJSON:function(){var e=r.clone(r.first(this._opSetQueue));t._objectEach(e,function(t,r){e[r]=t.toJSON()});return e},_canBeSerialized:function(){return t.Object._canBeSerializedAsValue(this.attributes)},fetch:function(e){var r=this;e=e||{};var n=t._request({method:"GET",route:"classes",className:this.className,objectId:this.id,useMasterKey:e.useMasterKey});return n.then(function(e,t,n){r._finishFetch(r.parse(e,t,n),true);return r})._thenRunCallbacks(e,this)},save:function(e,n,i){var a,s,o,u,c;if(r.isObject(e)||t._isNullOrUndefined(e)){s=e;u=n}else{s={};s[e]=n;u=i}if(!u&&s){var l=r.reject(s,function(e,t){return r.include(["success","error","wait"],t)});if(l.length===0){var f=true;if(r.has(s,"success")&&!r.isFunction(s.success)){f=false}if(r.has(s,"error")&&!r.isFunction(s.error)){f=false}if(f){return this.save(null,s)}}}u=r.clone(u)||{};if(u.wait){o=r.clone(this.attributes)}var h=r.clone(u)||{};if(h.wait){h.silent=true}var d;h.error=function(e,t){d=t};if(s&&!this.set(s,h)){return t.Promise.error(d)._thenRunCallbacks(u,this)}var p=this;p._refreshCache();var v=[];var _=[];t.Object._findUnsavedChildren(p.attributes,v,_);if(v.length+_.length>0){return t.Object._deepSaveAsync(this.attributes,{useMasterKey:u.useMasterKey}).then(function(){return p.save(null,u)},function(e){return t.Promise.error(e)._thenRunCallbacks(u,p)})}this._startSave();this._saving=(this._saving||0)+1;this._allPreviousSaves=this._allPreviousSaves||t.Promise.as();this._allPreviousSaves=this._allPreviousSaves._continueWith(function(){var e=p.id?"PUT":"POST";var n=p._getSaveJSON();var i="classes";var a=p.className;if(p.className==="_User"&&!p.id){i="users";a=null}var c=t._request({route:i,className:a,objectId:p.id,method:e,useMasterKey:u.useMasterKey,data:n});c=c.then(function(e,t,n){var i=p.parse(e,t,n);if(u.wait){i=r.extend(s||{},i)}p._finishSave(i);if(u.wait){p.set(o,h)}return p},function(e){p._cancelSave();return t.Promise.error(e)})._thenRunCallbacks(u,p);return c});return this._allPreviousSaves},destroy:function(e){e=e||{};var r=this;var n=function(){r.trigger("destroy",r,r.collection,e)};if(!this.id){return n()}if(!e.wait){n()}var i=t._request({route:"classes",className:this.className,objectId:this.id,method:"DELETE",useMasterKey:e.useMasterKey});return i.then(function(){if(e.wait){n()}return r})._thenRunCallbacks(e,this)},parse:function(e,n,i){var a=r.clone(e);r(["createdAt","updatedAt"]).each(function(e){if(a[e]){a[e]=t._parseDate(a[e])}});if(!a.updatedAt){a.updatedAt=a.createdAt}if(n){this._existed=n!==201}return a},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.id},change:function(e){e=e||{};var n=this._changing;this._changing=true;var i=this;t._objectEach(this._silent,function(e){i._pending[e]=true});var a=r.extend({},e.changes,this._silent);this._silent={};t._objectEach(a,function(t,r){i.trigger("change:"+r,i,i.get(r),e)});if(n){return this}var s=function(e,t){if(!i._pending[t]&&!i._silent[t]){delete i.changed[t]}};while(!r.isEmpty(this._pending)){this._pending={};this.trigger("change",this,e);t._objectEach(this.changed,s);i._previousAttributes=r.clone(this.attributes)}this._changing=false;return this},existed:function(){return this._existed},hasChanged:function(e){if(!arguments.length){return!r.isEmpty(this.changed)}return this.changed&&r.has(this.changed,e)},changedAttributes:function(e){if(!e){return this.hasChanged()?r.clone(this.changed):false}var n={};var i=this._previousAttributes;t._objectEach(e,function(e,t){if(!r.isEqual(i[t],e)){n[t]=e}});return n},previous:function(e){if(!arguments.length||!this._previousAttributes){return null}return this._previousAttributes[e]},previousAttributes:function(){return r.clone(this._previousAttributes)},isValid:function(){return!this.validate(this.attributes)},validate:function(e,n){if(r.has(e,"ACL")&&!(e.ACL instanceof t.ACL)){return new t.Error(t.Error.OTHER_CAUSE,"ACL must be a Parse.ACL.")}var i=true;t._objectEach(e,function(e,t){if(!/^[A-Za-z][0-9A-Za-z_]*$/.test(t)){i=false}});if(!i){return new t.Error(t.Error.INVALID_KEY_NAME)}return false},_validate:function(e,t){if(t.silent||!this.validate){return true}e=r.extend({},this.attributes,e);var n=this.validate(e,t);if(!n){return true}if(t&&t.error){t.error(this,n,t)}else{this.trigger("error",this,n,t)}return false},getACL:function(){return this.get("ACL")},setACL:function(e,t){return this.set("ACL",e,t)}});t.Object._getSubclass=function(e){if(!r.isString(e)){throw"Parse.Object._getSubclass requires a string argument."}var n=t.Object._classMap[e];if(!n){n=t.Object.extend(e);t.Object._classMap[e]=n}return n};t.Object._create=function(e,r,n){var i=t.Object._getSubclass(e);return new i(r,n)};t.Object._toObjectIdArray=function(e,r){if(e.length===0){return t.Promise.as(e)}var n;var i=e[0].className;var a=[];for(var s=0;s<e.length;s++){var o=e[s];if(i!==o.className){n=new t.Error(t.Error.INVALID_CLASS_NAME,"All objects should be of the same class");return t.Promise.error(n)}else if(!o.id){n=new t.Error(t.Error.MISSING_OBJECT_ID,"All objects must have an ID");return t.Promise.error(n)}else if(r&&o._hasData){continue}a.push(o.id)}return t.Promise.as(a)};t.Object._updateWithFetchedResults=function(e,r,n){var i={};t._arrayEach(r,function(e,t){i[e.id]=e});for(var a=0;a<e.length;a++){var s=e[a];var o=i[s.id];if(!o&&n){var u=new t.Error(t.Error.OBJECT_NOT_FOUND,"All objects must exist on the server");return t.Promise.error(u)}s._mergeFromObject(o)}return t.Promise.as(e)};t.Object._fetchAll=function(e,r){if(e.length===0){return t.Promise.as(e)}var n=!r;return t.Object._toObjectIdArray(e,n).then(function(r){var n=e[0].className;var i=new t.Query(n);i.containedIn("objectId",r);i.limit=r.length;return i.find()}).then(function(n){return t.Object._updateWithFetchedResults(e,n,r)})};t.Object._classMap={};t.Object._extend=t._extend;t.Object.extend=function(e,n,i){if(!r.isString(e)){if(e&&r.has(e,"className")){return t.Object.extend(e.className,e,n)}else{throw new Error("Parse.Object.extend's first argument should be the className.")}}if(e==="User"&&t.User._performUserRewrite){e="_User"}n=n||{};n.className=e;var a=null;if(r.has(t.Object._classMap,e)){var s=t.Object._classMap[e];a=s._extend(n,i)}else{a=this._extend(n,i)}a.extend=function(n){if(r.isString(n)||n&&r.has(n,"className")){return t.Object.extend.apply(a,arguments)}var i=[e].concat(t._.toArray(arguments));return t.Object.extend.apply(a,i)};t.Object._classMap[e]=a;return a};t.Object._findUnsavedChildren=function(e,r,n){t._traverse(e,function(e){if(e instanceof t.Object){e._refreshCache();if(e.dirty()){r.push(e)}return}if(e instanceof t.File){if(!e.url()){n.push(e)}return}})};t.Object._canBeSerializedAsValue=function(e){if(e instanceof t.Object){return!!e.id}if(e instanceof t.File){return true}var n=true;if(r.isArray(e)){t._arrayEach(e,function(e){if(!t.Object._canBeSerializedAsValue(e)){n=false
}})}else if(r.isObject(e)){t._objectEach(e,function(e){if(!t.Object._canBeSerializedAsValue(e)){n=false}})}return n};t.Object._deepSaveAsync=function(e,n){var i=[];var a=[];t.Object._findUnsavedChildren(e,i,a);var s=t.Promise.as();r.each(a,function(e){s=s.then(function(){return e.save(n)})});var o=r.uniq(i);var u=r.uniq(o);return s.then(function(){return t.Promise._continueWhile(function(){return u.length>0},function(){var e=[];var i=[];t._arrayEach(u,function(t){if(e.length>20){i.push(t);return}if(t._canBeSerialized()){e.push(t)}else{i.push(t)}});u=i;if(e.length===0){return t.Promise.error(new t.Error(t.Error.OTHER_CAUSE,"Tried to save a batch with a cycle."))}var a=t.Promise.when(r.map(e,function(e){return e._allPreviousSaves||t.Promise.as()}));var s=new t.Promise;t._arrayEach(e,function(e){e._allPreviousSaves=s});return a._continueWith(function(){return t._request({route:"batch",method:"POST",useMasterKey:n.useMasterKey,data:{requests:r.map(e,function(e){var t=e._getSaveJSON();var r="POST";var n="/1/classes/"+e.className;if(e.id){n=n+"/"+e.id;r="PUT"}e._startSave();return{method:r,path:n,body:t}})}}).then(function(r,n,i){var a;t._arrayEach(e,function(e,t){if(r[t].success){e._finishSave(e.parse(r[t].success,n,i))}else{a=a||r[t].error;e._cancelSave()}});if(a){return t.Promise.error(new t.Error(a.code,a.error))}}).then(function(e){s.resolve(e);return e},function(e){s.reject(e);return t.Promise.error(e)})})})}).then(function(){return e})}})(this);(function(e){e.Parse=e.Parse||{};var t=e.Parse;var r=t._;t.Role=t.Object.extend("_Role",{constructor:function(e,n){if(r.isString(e)&&n instanceof t.ACL){t.Object.prototype.constructor.call(this,null,null);this.setName(e);this.setACL(n)}else{t.Object.prototype.constructor.call(this,e,n)}},getName:function(){return this.get("name")},setName:function(e,t){return this.set("name",e,t)},getUsers:function(){return this.relation("users")},getRoles:function(){return this.relation("roles")},validate:function(e,n){if("name"in e&&e.name!==this.getName()){var i=e.name;if(this.id&&this.id!==e.objectId){return new t.Error(t.Error.OTHER_CAUSE,"A role's name can only be set before it has been saved.")}if(!r.isString(i)){return new t.Error(t.Error.OTHER_CAUSE,"A role's name must be a String.")}if(!/^[0-9a-zA-Z\-_ ]+$/.test(i)){return new t.Error(t.Error.OTHER_CAUSE,"A role's name can only contain alphanumeric characters, _,"+" -, and spaces.")}}if(t.Object.prototype.validate){return t.Object.prototype.validate.call(this,e,n)}return false}})})(this);(function(e){e.Parse=e.Parse||{};var t=e.Parse;var r=t._;t.Collection=function(e,t){t=t||{};if(t.comparator){this.comparator=t.comparator}if(t.model){this.model=t.model}if(t.query){this.query=t.query}this._reset();this.initialize.apply(this,arguments);if(e){this.reset(e,{silent:true,parse:t.parse})}};r.extend(t.Collection.prototype,t.Events,{model:t.Object,initialize:function(){},toJSON:function(){return this.map(function(e){return e.toJSON()})},add:function(e,n){var i,a,s,o,u,c,l={},f={};n=n||{};e=r.isArray(e)?e.slice():[e];for(i=0,s=e.length;i<s;i++){e[i]=this._prepareModel(e[i],n);o=e[i];if(!o){throw new Error("Can't add an invalid model to a collection")}u=o.cid;if(l[u]||this._byCid[u]){throw new Error("Duplicate cid: can't add the same model "+"to a collection twice")}c=o.id;if(!t._isNullOrUndefined(c)&&(f[c]||this._byId[c])){throw new Error("Duplicate id: can't add the same model "+"to a collection twice")}f[c]=o;l[u]=o}for(i=0;i<s;i++){(o=e[i]).on("all",this._onModelEvent,this);this._byCid[o.cid]=o;if(o.id){this._byId[o.id]=o}}this.length+=s;a=t._isNullOrUndefined(n.at)?this.models.length:n.at;this.models.splice.apply(this.models,[a,0].concat(e));if(this.comparator){this.sort({silent:true})}if(n.silent){return this}for(i=0,s=this.models.length;i<s;i++){o=this.models[i];if(l[o.cid]){n.index=i;o.trigger("add",o,this,n)}}return this},remove:function(e,t){var n,i,a,s;t=t||{};e=r.isArray(e)?e.slice():[e];for(n=0,i=e.length;n<i;n++){s=this.getByCid(e[n])||this.get(e[n]);if(!s){continue}delete this._byId[s.id];delete this._byCid[s.cid];a=this.indexOf(s);this.models.splice(a,1);this.length--;if(!t.silent){t.index=a;s.trigger("remove",s,this,t)}this._removeReference(s)}return this},get:function(e){return e&&this._byId[e.id||e]},getByCid:function(e){return e&&this._byCid[e.cid||e]},at:function(e){return this.models[e]},sort:function(e){e=e||{};if(!this.comparator){throw new Error("Cannot sort a set without a comparator")}var t=r.bind(this.comparator,this);if(this.comparator.length===1){this.models=this.sortBy(t)}else{this.models.sort(t)}if(!e.silent){this.trigger("reset",this,e)}return this},pluck:function(e){return r.map(this.models,function(t){return t.get(e)})},reset:function(e,r){var n=this;e=e||[];r=r||{};t._arrayEach(this.models,function(e){n._removeReference(e)});this._reset();this.add(e,{silent:true,parse:r.parse});if(!r.silent){this.trigger("reset",this,r)}return this},fetch:function(e){e=r.clone(e)||{};if(e.parse===undefined){e.parse=true}var n=this;var i=this.query||new t.Query(this.model);return i.find({useMasterKey:e.useMasterKey}).then(function(t){if(e.add){n.add(t,e)}else{n.reset(t,e)}return n})._thenRunCallbacks(e,this)},create:function(e,t){var n=this;t=t?r.clone(t):{};e=this._prepareModel(e,t);if(!e){return false}if(!t.wait){n.add(e,t)}var i=t.success;t.success=function(r,a,s){if(t.wait){n.add(r,t)}if(i){i(r,a)}else{r.trigger("sync",e,a,t)}};e.save(null,t);return e},parse:function(e,t){return e},chain:function(){return r(this.models).chain()},_reset:function(e){this.length=0;this.models=[];this._byId={};this._byCid={}},_prepareModel:function(e,r){if(!(e instanceof t.Object)){var n=e;r.collection=this;e=new this.model(n,r);if(!e._validate(e.attributes,r)){e=false}}else if(!e.collection){e.collection=this}return e},_removeReference:function(e){if(this===e.collection){delete e.collection}e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,r,n){if((e==="add"||e==="remove")&&r!==this){return}if(e==="destroy"){this.remove(t,n)}if(t&&e==="change:objectId"){delete this._byId[t.previous("objectId")];this._byId[t.id]=t}this.trigger.apply(this,arguments)}});var n=["forEach","each","map","reduce","reduceRight","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","sortBy","sortedIndex","toArray","size","first","initial","rest","last","without","indexOf","shuffle","lastIndexOf","isEmpty","groupBy"];t._arrayEach(n,function(e){t.Collection.prototype[e]=function(){return r[e].apply(r,[this.models].concat(r.toArray(arguments)))}});t.Collection.extend=t._extend})(this);(function(e){e.Parse=e.Parse||{};var t=e.Parse;var r=t._;t.View=function(e){this.cid=r.uniqueId("view");this._configure(e||{});this._ensureElement();this.initialize.apply(this,arguments);this.delegateEvents()};var n=/^(\S+)\s*(.*)$/;var i=["model","collection","el","id","attributes","className","tagName"];r.extend(t.View.prototype,t.Events,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){this.$el.remove();return this},make:function(e,r,n){var i=document.createElement(e);if(r){t.$(i).attr(r)}if(n){t.$(i).html(n)}return i},setElement:function(e,r){this.$el=t.$(e);this.el=this.$el[0];if(r!==false){this.delegateEvents()}return this},delegateEvents:function(e){e=e||t._getValue(this,"events");if(!e){return}this.undelegateEvents();var i=this;t._objectEach(e,function(t,a){if(!r.isFunction(t)){t=i[e[a]]}if(!t){throw new Error('Event "'+e[a]+'" does not exist')}var s=a.match(n);var o=s[1],u=s[2];t=r.bind(t,i);o+=".delegateEvents"+i.cid;if(u===""){i.$el.bind(o,t)}else{i.$el.delegate(u,o,t)}})},undelegateEvents:function(){this.$el.unbind(".delegateEvents"+this.cid)},_configure:function(e){if(this.options){e=r.extend({},this.options,e)}var t=this;r.each(i,function(r){if(e[r]){t[r]=e[r]}});this.options=e},_ensureElement:function(){if(!this.el){var e=t._getValue(this,"attributes")||{};if(this.id){e.id=this.id}if(this.className){e["class"]=this.className}this.setElement(this.make(this.tagName,e),false)}else{this.setElement(this.el,false)}}});t.View.extend=t._extend})(this);(function(e){e.Parse=e.Parse||{};var t=e.Parse;var r=t._;t.User=t.Object.extend("_User",{_isCurrentUser:false,_mergeFromObject:function(e){if(e.getSessionToken()){this._sessionToken=e.getSessionToken()}t.User.__super__._mergeFromObject.call(this,e)},_mergeMagicFields:function(e){if(e.sessionToken){this._sessionToken=e.sessionToken;delete e.sessionToken}t.User.__super__._mergeMagicFields.call(this,e)},_cleanupAuthData:function(){if(!this.isCurrent()){return}var e=this.get("authData");if(!e){return}t._objectEach(this.get("authData"),function(t,r){if(!e[r]){delete e[r]}})},_synchronizeAllAuthData:function(){var e=this.get("authData");if(!e){return}var r=this;t._objectEach(this.get("authData"),function(e,t){r._synchronizeAuthData(t)})},_synchronizeAuthData:function(e){if(!this.isCurrent()){return}var n;if(r.isString(e)){n=e;e=t.User._authProviders[n]}else{n=e.getAuthType()}var i=this.get("authData");if(!i||!e){return}var a=e.restoreAuthentication(i[n]);if(!a){this._unlinkFrom(e)}},_handleSaveResult:function(e){if(e){this._isCurrentUser=true}this._cleanupAuthData();this._synchronizeAllAuthData();delete this._serverData.password;this._rebuildEstimatedDataForKey("password");this._refreshCache();if(e||this.isCurrent()){t.User._saveCurrentUser(this)}},_linkWith:function(e,n){var i;if(r.isString(e)){i=e;e=t.User._authProviders[e]}else{i=e.getAuthType()}if(r.has(n,"authData")){var a=this.get("authData")||{};a[i]=n.authData;this.set("authData",a);var s=r.clone(n)||{};s.success=function(e){e._handleSaveResult(true);if(n.success){n.success.apply(this,arguments)}};return this.save({authData:a},s)}else{var o=this;var u=new t.Promise;e.authenticate({success:function(e,t){o._linkWith(e,{authData:t,success:n.success,error:n.error}).then(function(){u.resolve(o)})},error:function(e,t){if(n.error){n.error(o,t)}u.reject(t)}});return u}},_unlinkFrom:function(e,n){var i;if(r.isString(e)){i=e;e=t.User._authProviders[e]}else{i=e.getAuthType()}var a=r.clone(n);var s=this;a.authData=null;a.success=function(t){s._synchronizeAuthData(e);if(n.success){n.success.apply(this,arguments)}};return this._linkWith(e,a)},_isLinked:function(e){var t;if(r.isString(e)){t=e}else{t=e.getAuthType()}var n=this.get("authData")||{};return!!n[t]},_logOutWithAll:function(){var e=this.get("authData");if(!e){return}var r=this;t._objectEach(this.get("authData"),function(e,t){r._logOutWith(t)})},_logOutWith:function(e){if(!this.isCurrent()){return}if(r.isString(e)){e=t.User._authProviders[e]}if(e&&e.deauthenticate){e.deauthenticate()}},signUp:function(e,n){var i;n=n||{};var a=e&&e.username||this.get("username");if(!a||a===""){i=new t.Error(t.Error.OTHER_CAUSE,"Cannot sign up user with an empty name.");if(n&&n.error){n.error(this,i)}return t.Promise.error(i)}var s=e&&e.password||this.get("password");if(!s||s===""){i=new t.Error(t.Error.OTHER_CAUSE,"Cannot sign up user with an empty password.");if(n&&n.error){n.error(this,i)}return t.Promise.error(i)}var o=r.clone(n);o.success=function(e){e._handleSaveResult(true);if(n.success){n.success.apply(this,arguments)}};return this.save(e,o)},logIn:function(e){var r=this;e=e||{};var n=t._request({route:"login",method:"GET",useMasterKey:e.useMasterKey,data:this.toJSON()});return n.then(function(e,t,n){var i=r.parse(e,t,n);r._finishFetch(i);r._handleSaveResult(true);return r})._thenRunCallbacks(e,this)},save:function(e,n,i){var a,s,o,u,c;if(r.isObject(e)||r.isNull(e)||r.isUndefined(e)){s=e;u=n}else{s={};s[e]=n;u=i}u=u||{};var l=r.clone(u);l.success=function(e){e._handleSaveResult(false);if(u.success){u.success.apply(this,arguments)}};return t.Object.prototype.save.call(this,s,l)},fetch:function(e){var n=e?r.clone(e):{};n.success=function(t){t._handleSaveResult(false);if(e&&e.success){e.success.apply(this,arguments)}};return t.Object.prototype.fetch.call(this,n)},isCurrent:function(){return this._isCurrentUser},getUsername:function(){return this.get("username")},setUsername:function(e,t){return this.set("username",e,t)},setPassword:function(e,t){return this.set("password",e,t)},getEmail:function(){return this.get("email")},setEmail:function(e,t){return this.set("email",e,t)},authenticated:function(){return!!this._sessionToken&&(t.User.current()&&t.User.current().id===this.id)},getSessionToken:function(){return this._sessionToken}},{_currentUser:null,_currentUserMatchesDisk:false,_CURRENT_USER_KEY:"currentUser",_authProviders:{},_performUserRewrite:true,signUp:function(e,r,n,i){n=n||{};n.username=e;n.password=r;var a=t.Object._create("_User");return a.signUp(n,i)},logIn:function(e,r,n){var i=t.Object._create("_User");i._finishFetch({username:e,password:r});return i.logIn(n)},become:function(e,r){r=r||{};var n=t.Object._create("_User");return t._request({route:"users",className:"me",method:"GET",useMasterKey:r.useMasterKey,sessionToken:e}).then(function(e,t,r){var i=n.parse(e,t,r);n._finishFetch(i);n._handleSaveResult(true);return n})._thenRunCallbacks(r,n)},logOut:function(){if(t.User._currentUser!==null){t.User._currentUser._logOutWithAll();t.User._currentUser._isCurrentUser=false}t.User._currentUserMatchesDisk=true;t.User._currentUser=null;t.localStorage.removeItem(t._getParsePath(t.User._CURRENT_USER_KEY))},requestPasswordReset:function(e,r){r=r||{};var n=t._request({route:"requestPasswordReset",method:"POST",useMasterKey:r.useMasterKey,data:{email:e}});return n._thenRunCallbacks(r)},current:function(){if(t.User._currentUser){return t.User._currentUser}if(t.User._currentUserMatchesDisk){return t.User._currentUser}t.User._currentUserMatchesDisk=true;var e=t.localStorage.getItem(t._getParsePath(t.User._CURRENT_USER_KEY));if(!e){return null}t.User._currentUser=t.Object._create("_User");t.User._currentUser._isCurrentUser=true;var r=JSON.parse(e);t.User._currentUser.id=r._id;delete r._id;t.User._currentUser._sessionToken=r._sessionToken;delete r._sessionToken;t.User._currentUser._finishFetch(r);t.User._currentUser._synchronizeAllAuthData();t.User._currentUser._refreshCache();t.User._currentUser._opSetQueue=[{}];return t.User._currentUser},allowCustomUserClass:function(e){this._performUserRewrite=!e},_saveCurrentUser:function(e){if(t.User._currentUser!==e){t.User.logOut()}e._isCurrentUser=true;t.User._currentUser=e;t.User._currentUserMatchesDisk=true;var r=e.toJSON();r._id=e.id;r._sessionToken=e._sessionToken;t.localStorage.setItem(t._getParsePath(t.User._CURRENT_USER_KEY),JSON.stringify(r))},_registerAuthenticationProvider:function(e){t.User._authProviders[e.getAuthType()]=e;if(t.User.current()){t.User.current()._synchronizeAuthData(e.getAuthType())}},_logInWith:function(e,r){var n=t.Object._create("_User");return n._linkWith(e,r)}})})(this);(function(e){e.Parse=e.Parse||{};var t=e.Parse;var r=t._;t.Query=function(e){if(r.isString(e)){e=t.Object._getSubclass(e)}this.objectClass=e;this.className=e.prototype.className;this._where={};this._include=[];this._limit=-1;this._skip=0;this._extraOptions={}};t.Query.or=function(){var e=r.toArray(arguments);var n=null;t._arrayEach(e,function(e){if(r.isNull(n)){n=e.className}if(n!==e.className){throw"All queries must be for the same class"}});var i=new t.Query(n);i._orQuery(e);return i};t.Query.prototype={get:function(e,n){var i=this;i.equalTo("objectId",e);var a={};if(n&&r.has(n,"useMasterKey")){a={useMasterKey:n.useMasterKey}}return i.first(a).then(function(e){if(e){return e}var r=new t.Error(t.Error.OBJECT_NOT_FOUND,"Object not found.");return t.Promise.error(r)})._thenRunCallbacks(n,null)},toJSON:function(){var e={where:this._where};if(this._include.length>0){e.include=this._include.join(",")}if(this._select){e.keys=this._select.join(",")}if(this._limit>=0){e.limit=this._limit}if(this._skip>0){e.skip=this._skip}if(this._order!==undefined){e.order=this._order.join(",")}t._objectEach(this._extraOptions,function(t,r){e[r]=t});return e},find:function(e){var n=this;e=e||{};var i=t._request({route:"classes",className:this.className,method:"GET",useMasterKey:e.useMasterKey,data:this.toJSON()});return i.then(function(e){return r.map(e.results,function(r){var i;if(e.className){i=new t.Object(e.className)}else{i=new n.objectClass}i._finishFetch(r,true);return i})})._thenRunCallbacks(e)},count:function(e){var r=this;e=e||{};var n=this.toJSON();n.limit=0;n.count=1;var i=t._request({route:"classes",className:r.className,method:"GET",useMasterKey:e.useMasterKey,data:n});return i.then(function(e){return e.count})._thenRunCallbacks(e)},first:function(e){var n=this;e=e||{};var i=this.toJSON();i.limit=1;var a=t._request({route:"classes",className:this.className,method:"GET",useMasterKey:e.useMasterKey,data:i});return a.then(function(e){return r.map(e.results,function(e){var t=new n.objectClass;t._finishFetch(e,true);return t})[0]})._thenRunCallbacks(e)},collection:function(e,n){n=n||{};return new t.Collection(e,r.extend(n,{model:this.objectClass,query:this}))},skip:function(e){this._skip=e;return this},limit:function(e){this._limit=e;return this},equalTo:function(e,n){if(r.isUndefined(n)){return this.doesNotExist(e)}this._where[e]=t._encode(n);return this},_addCondition:function(e,r,n){if(!this._where[e]){this._where[e]={}}this._where[e][r]=t._encode(n);return this},notEqualTo:function(e,t){this._addCondition(e,"$ne",t);return this},lessThan:function(e,t){this._addCondition(e,"$lt",t);return this},greaterThan:function(e,t){this._addCondition(e,"$gt",t);return this},lessThanOrEqualTo:function(e,t){this._addCondition(e,"$lte",t);return this},greaterThanOrEqualTo:function(e,t){this._addCondition(e,"$gte",t);return this},containedIn:function(e,t){this._addCondition(e,"$in",t);return this},notContainedIn:function(e,t){this._addCondition(e,"$nin",t);return this},containsAll:function(e,t){this._addCondition(e,"$all",t);return this},exists:function(e){this._addCondition(e,"$exists",true);return this},doesNotExist:function(e){this._addCondition(e,"$exists",false);return this},matches:function(e,t,r){this._addCondition(e,"$regex",t);if(!r){r=""}if(t.ignoreCase){r+="i"}if(t.multiline){r+="m"}if(r&&r.length){this._addCondition(e,"$options",r)}return this},matchesQuery:function(e,t){var r=t.toJSON();r.className=t.className;this._addCondition(e,"$inQuery",r);return this},doesNotMatchQuery:function(e,t){var r=t.toJSON();r.className=t.className;this._addCondition(e,"$notInQuery",r);return this},matchesKeyInQuery:function(e,t,r){var n=r.toJSON();n.className=r.className;this._addCondition(e,"$select",{key:t,query:n});return this},doesNotMatchKeyInQuery:function(e,t,r){var n=r.toJSON();n.className=r.className;this._addCondition(e,"$dontSelect",{key:t,query:n});return this},_orQuery:function(e){var t=r.map(e,function(e){return e.toJSON().where});this._where.$or=t;return this},_quote:function(e){return"\\Q"+e.replace("\\E","\\E\\\\E\\Q")+"\\E"},contains:function(e,t){this._addCondition(e,"$regex",this._quote(t));return this},startsWith:function(e,t){this._addCondition(e,"$regex","^"+this._quote(t));return this},endsWith:function(e,t){this._addCondition(e,"$regex",this._quote(t)+"$");return this},ascending:function(){this._order=[];return this.addAscending.apply(this,arguments)},addAscending:function(e){var r=this;if(!this._order){this._order=[]}t._arrayEach(arguments,function(e){if(Array.isArray(e)){e=e.join()}r._order=r._order.concat(e.replace(/\s/g,"").split(","))});return this},descending:function(e){this._order=[];return this.addDescending.apply(this,arguments)},addDescending:function(e){var n=this;if(!this._order){this._order=[]}t._arrayEach(arguments,function(e){if(Array.isArray(e)){e=e.join()}n._order=n._order.concat(r.map(e.replace(/\s/g,"").split(","),function(e){return"-"+e}))});return this},near:function(e,r){if(!(r instanceof t.GeoPoint)){r=new t.GeoPoint(r)}this._addCondition(e,"$nearSphere",r);return this},withinRadians:function(e,t,r){this.near(e,t);this._addCondition(e,"$maxDistance",r);return this},withinMiles:function(e,t,r){return this.withinRadians(e,t,r/3958.8)},withinKilometers:function(e,t,r){return this.withinRadians(e,t,r/6371)},withinGeoBox:function(e,r,n){if(!(r instanceof t.GeoPoint)){r=new t.GeoPoint(r)}if(!(n instanceof t.GeoPoint)){n=new t.GeoPoint(n)}this._addCondition(e,"$within",{$box:[r,n]});return this},include:function(){var e=this;t._arrayEach(arguments,function(t){if(r.isArray(t)){e._include=e._include.concat(t)}else{e._include.push(t)}});return this},select:function(){var e=this;this._select=this._select||[];t._arrayEach(arguments,function(t){if(r.isArray(t)){e._select=e._select.concat(t)}else{e._select.push(t)}});return this},each:function(e,n){n=n||{};if(this._order||this._skip||this._limit>=0){var i="Cannot iterate on a query with sort, skip, or limit.";return t.Promise.error(i)._thenRunCallbacks(n)}var a=new t.Promise;var s=new t.Query(this.objectClass);s._limit=n.batchSize||100;s._where=r.clone(this._where);s._include=r.clone(this._include);s.ascending("objectId");var o={};if(r.has(n,"useMasterKey")){o.useMasterKey=n.useMasterKey}var u=false;return t.Promise._continueWhile(function(){return!u},function(){return s.find(o).then(function(r){var n=t.Promise.as();t._.each(r,function(t){n=n.then(function(){return e(t)})});return n.then(function(){if(r.length>=s._limit){s.greaterThan("objectId",r[r.length-1].id)}else{u=true}})})})._thenRunCallbacks(n)}}})(this);(function(e){e.Parse=e.Parse||{};var t=e.Parse;var r=t._;var n="*";var i=false;var a;var s;var o={authenticate:function(e){var t=this;FB.login(function(r){if(r.authResponse){if(e.success){e.success(t,{id:r.authResponse.userID,access_token:r.authResponse.accessToken,expiration_date:new Date(r.authResponse.expiresIn*1e3+(new Date).getTime()).toJSON()})}}else{if(e.error){e.error(t,r)}}},{scope:a})},restoreAuthentication:function(e){if(e){var n={userID:e.id,accessToken:e.access_token,expiresIn:(t._parseDate(e.expiration_date).getTime()-(new Date).getTime())/1e3};var i=r.clone(s);i.authResponse=n;i.status=false;var a=FB.getAuthResponse();if(a&&a.userID!==n.userID){FB.logout()}FB.init(i)}return true},getAuthType:function(){return"facebook"},deauthenticate:function(){this.restoreAuthentication(null)}};t.FacebookUtils={init:function(e){if(typeof FB==="undefined"){throw"The Facebook JavaScript SDK must be loaded before calling init."}s=r.clone(e)||{};if(s.status&&typeof console!=="undefined"){var n=console.warn||console.log||function(){};n.call(console,"The 'status' flag passed into"+" FB.init, when set to true, can interfere with Parse Facebook"+" integration, so it has been suppressed. Please call"+" FB.getLoginStatus() explicitly if you require this behavior.")}s.status=false;FB.init(s);t.User._registerAuthenticationProvider(o);i=true},isLinked:function(e){return e._isLinked("facebook")},logIn:function(e,n){if(!e||r.isString(e)){if(!i){throw"You must initialize FacebookUtils before calling logIn."}a=e;return t.User._logInWith("facebook",n)}else{var s=r.clone(n)||{};s.authData=e;return t.User._logInWith("facebook",s)}},link:function(e,t,n){if(!t||r.isString(t)){if(!i){throw"You must initialize FacebookUtils before calling link."}a=t;return e._linkWith("facebook",n)}else{var s=r.clone(n)||{};s.authData=t;return e._linkWith("facebook",s)}},unlink:function(e,t){if(!i){throw"You must initialize FacebookUtils before calling unlink."}return e._unlinkFrom("facebook",t)}}})(this);(function(e){e.Parse=e.Parse||{};var t=e.Parse;var r=t._;t.History=function(){this.handlers=[];r.bindAll(this,"checkUrl")};var n=/^[#\/]/;var i=/msie [\w.]+/;t.History.started=false;r.extend(t.History.prototype,t.Events,{interval:50,getHash:function(e){var t=e?e.location:window.location;var r=t.href.match(/#(.*)$/);return r?r[1]:""},getFragment:function(e,r){if(t._isNullOrUndefined(e)){if(this._hasPushState||r){e=window.location.pathname;var i=window.location.search;if(i){e+=i}}else{e=this.getHash()}}if(!e.indexOf(this.options.root)){e=e.substr(this.options.root.length)}return e.replace(n,"")},start:function(e){if(t.History.started){throw new Error("Parse.history has already been started")}t.History.started=true;this.options=r.extend({},{root:"/"},this.options,e);this._wantsHashChange=this.options.hashChange!==false;this._wantsPushState=!!this.options.pushState;this._hasPushState=!!(this.options.pushState&&window.history&&window.history.pushState);var a=this.getFragment();var s=document.documentMode;var o=i.exec(navigator.userAgent.toLowerCase())&&(!s||s<=7);if(o){this.iframe=t.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow;this.navigate(a)}if(this._hasPushState){t.$(window).bind("popstate",this.checkUrl)}else if(this._wantsHashChange&&"onhashchange"in window&&!o){t.$(window).bind("hashchange",this.checkUrl)}else if(this._wantsHashChange){this._checkUrlInterval=window.setInterval(this.checkUrl,this.interval)}this.fragment=a;var u=window.location;var c=u.pathname===this.options.root;if(this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!c){this.fragment=this.getFragment(null,true);window.location.replace(this.options.root+"#"+this.fragment);return true}else if(this._wantsPushState&&this._hasPushState&&c&&u.hash){this.fragment=this.getHash().replace(n,"");window.history.replaceState({},document.title,u.protocol+"//"+u.host+this.options.root+this.fragment)}if(!this.options.silent){return this.loadUrl()}},stop:function(){t.$(window).unbind("popstate",this.checkUrl).unbind("hashchange",this.checkUrl);window.clearInterval(this._checkUrlInterval);t.History.started=false},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();if(t===this.fragment&&this.iframe){t=this.getFragment(this.getHash(this.iframe))}if(t===this.fragment){return false}if(this.iframe){this.navigate(t)}if(!this.loadUrl()){this.loadUrl(this.getHash())}},loadUrl:function(e){var t=this.fragment=this.getFragment(e);var n=r.any(this.handlers,function(e){if(e.route.test(t)){e.callback(t);return true}});return n},navigate:function(e,r){if(!t.History.started){return false}if(!r||r===true){r={trigger:r}}var i=(e||"").replace(n,"");if(this.fragment===i){return}if(this._hasPushState){if(i.indexOf(this.options.root)!==0){i=this.options.root+i}this.fragment=i;var a=r.replace?"replaceState":"pushState";window.history[a]({},document.title,i)}else if(this._wantsHashChange){this.fragment=i;this._updateHash(window.location,i,r.replace);if(this.iframe&&i!==this.getFragment(this.getHash(this.iframe))){if(!r.replace){this.iframe.document.open().close()}this._updateHash(this.iframe.location,i,r.replace)}}else{window.location.assign(this.options.root+e)}if(r.trigger){this.loadUrl(e)}},_updateHash:function(e,t,r){if(r){var n=e.toString().replace(/(javascript:|#).*$/,"");e.replace(n+"#"+t)}else{e.hash=t}}})})(this);(function(e){e.Parse=e.Parse||{};var t=e.Parse;var r=t._;t.Router=function(e){e=e||{};if(e.routes){this.routes=e.routes}this._bindRoutes();this.initialize.apply(this,arguments)};var n=/:\w+/g;var i=/\*\w+/g;var a=/[\-\[\]{}()+?.,\\\^\$\|#\s]/g;r.extend(t.Router.prototype,t.Events,{initialize:function(){},route:function(e,n,i){t.history=t.history||new t.History;if(!r.isRegExp(e)){e=this._routeToRegExp(e)}if(!i){i=this[n]}t.history.route(e,r.bind(function(r){var a=this._extractParameters(e,r);if(i){i.apply(this,a)}this.trigger.apply(this,["route:"+n].concat(a));t.history.trigger("route",this,n,a)},this));return this},navigate:function(e,r){t.history.navigate(e,r)},_bindRoutes:function(){if(!this.routes){return}var e=[];for(var t in this.routes){if(this.routes.hasOwnProperty(t)){e.unshift([t,this.routes[t]])}}for(var r=0,n=e.length;r<n;r++){this.route(e[r][0],e[r][1],this[e[r][1]])}},_routeToRegExp:function(e){e=e.replace(a,"\\$&").replace(n,"([^/]+)").replace(i,"(.*?)");return new RegExp("^"+e+"$")},_extractParameters:function(e,t){return e.exec(t).slice(1)}});t.Router.extend=t._extend})(this);(function(e){e.Parse=e.Parse||{};var t=e.Parse;var r=t._;t.Cloud=t.Cloud||{};r.extend(t.Cloud,{run:function(e,r,n){n=n||{};var i=t._request({route:"functions",className:e,method:"POST",useMasterKey:n.useMasterKey,data:t._encode(r,null,true)});return i.then(function(e){return t._decode(null,e).result})._thenRunCallbacks(n)}})})(this);(function(e){e.Parse=e.Parse||{};var t=e.Parse;t.Installation=t.Object.extend("_Installation");t.Push=t.Push||{};t.Push.send=function(e,r){r=r||{};if(e.where){e.where=e.where.toJSON().where}if(e.push_time){e.push_time=e.push_time.toJSON()}if(e.expiration_time){e.expiration_time=e.expiration_time.toJSON()}if(e.expiration_time&&e.expiration_interval){throw"Both expiration_time and expiration_interval can't be set"}var n=t._request({route:"push",method:"POST",data:e,useMasterKey:r.useMasterKey});return n._thenRunCallbacks(r)}})(this);e.exports=t.Parse}).call(t,r(42))},14:function(e,t,r){(function(e){if(!Array.prototype.filter){Array.prototype.filter=function(e,t){var r=[],n;for(var i=0,a=this.length;i<a;i++){if(i in this&&e.call(t,n=this[i],i,this)){r.push(n)}}return r}}if(!Array.isArray){Array.isArray=function(e){return Object.prototype.toString.call(e)==="[object Array]"}}var t=document.location;function r(){return t.hash===""||t.hash==="#"}var n={mode:"modern",hash:t.hash,history:false,check:function(){var e=t.hash;if(e!=this.hash){this.hash=e;this.onHashChanged()}},fire:function(){if(this.mode==="modern"){this.history===true?window.onpopstate():window.onhashchange()}else{this.onHashChanged()}},init:function(e,t){var r=this;this.history=t;if(!i.listeners){i.listeners=[]}function n(e){for(var t=0,r=i.listeners.length;t<r;t++){i.listeners[t](e)}}if("onhashchange"in window&&(document.documentMode===undefined||document.documentMode>7)){if(this.history===true){setTimeout(function(){window.onpopstate=n},500)}else{window.onhashchange=n}this.mode="modern"}else{var a=document.createElement("iframe");a.id="state-frame";a.style.display="none";document.body.appendChild(a);this.writeFrame("");if("onpropertychange"in document&&"attachEvent"in document){document.attachEvent("onpropertychange",function(){if(event.propertyName==="location"){r.check()}})}window.setInterval(function(){r.check()},50);this.onHashChanged=n;this.mode="legacy"}i.listeners.push(e);return this.mode},destroy:function(e){if(!i||!i.listeners){return}var t=i.listeners;for(var r=t.length-1;r>=0;r--){if(t[r]===e){t.splice(r,1)}}},setHash:function(e){if(this.mode==="legacy"){this.writeFrame(e)}if(this.history===true){window.history.pushState({},document.title,e);this.fire()}else{t.hash=e[0]==="/"?e:"/"+e}return this},writeFrame:function(e){var t=document.getElementById("state-frame");var r=t.contentDocument||t.contentWindow.document;r.open();r.write("<script>_hash = '"+e+"'; onload = parent.listener.syncHash;<script>");r.close()},syncHash:function(){var e=this._hash;if(e!=t.hash){t.hash=e}return this},onHashChanged:function(){}};var i=e.Router=function(e){if(!(this instanceof i))return new i(e);this.params={};this.routes={};this.methods=["on","once","after","before"];this.scope=[];this._methods={};this._insert=this.insert;this.insert=this.insertEx;this.historySupport=(window.history!=null?window.history.pushState:null)!=null;this.configure();this.mount(e||{})};i.prototype.init=function(e){var i=this;this.handler=function(e){var t=e&&e.newURL||window.location.hash;var r=i.history===true?i.getPath():t.replace(/.*#/,"");i.dispatch("on",r.charAt(0)==="/"?r:"/"+r)};n.init(this.handler,this.history);if(this.history===false){if(r()&&e){t.hash=e}else if(!r()){i.dispatch("on","/"+t.hash.replace(/^(#\/|#|\/)/,""))}}else{var a=r()&&e?e:!r()?t.hash.replace(/^#/,""):null;if(a){window.history.replaceState({},document.title,a)}if(a||this.run_in_init===true){this.handler()}}return this};i.prototype.explode=function(){var e=this.history===true?this.getPath():t.hash;if(e.charAt(1)==="/"){e=e.slice(1)}return e.slice(1,e.length).split("/")};i.prototype.setRoute=function(e,t,r){var i=this.explode();if(typeof e==="number"&&typeof t==="string"){i[e]=t
}else if(typeof r==="string"){i.splice(e,t,s)}else{i=[e]}n.setHash(i.join("/"));return i};i.prototype.insertEx=function(e,t,r,n){if(e==="once"){e="on";r=function(e){var t=false;return function(){if(t)return;t=true;return e.apply(this,arguments)}}(r)}return this._insert(e,t,r,n)};i.prototype.getRoute=function(e){var t=e;if(typeof e==="number"){t=this.explode()[e]}else if(typeof e==="string"){var r=this.explode();t=r.indexOf(e)}else{t=this.explode()}return t};i.prototype.destroy=function(){n.destroy(this.handler);return this};i.prototype.getPath=function(){var e=window.location.pathname;if(e.substr(0,1)!=="/"){e="/"+e}return e};function a(e,t){for(var r=0;r<e.length;r+=1){if(t(e[r],r,e)===false){return}}}function o(e){var t=[];for(var r=0,n=e.length;r<n;r++){t=t.concat(e[r])}return t}function u(e,t,r){if(!e.length){return r()}var n=0;(function i(){t(e[n],function(t){if(t||t===false){r(t);r=function(){}}else{n+=1;if(n===e.length){r()}else{i()}}})})()}function c(e,t,r){r=e;for(var n in t){if(t.hasOwnProperty(n)){r=t[n](e);if(r!==e){break}}}return r===e?"([._a-zA-Z0-9-]+)":r}function l(e,t){var r,n=0,i="";while(r=e.substr(n).match(/[^\w\d\- %@&]*\*[^\w\d\- %@&]*/)){n=r.index+r[0].length;r[0]=r[0].replace(/^\*/,"([_.()!\\ %@&a-zA-Z0-9-]+)");i+=e.substr(0,r.index)+r[0]}e=i+=e.substr(n);var a=e.match(/:([^\/]+)/gi),s,o;if(a){o=a.length;for(var u=0;u<o;u++){s=a[u];if(s.slice(0,2)==="::"){e=s.slice(1)}else{e=e.replace(s,c(s,t))}}}return e}function f(e,t,r,n){var i=0,a=0,s=0,r=(r||"(").toString(),n=(n||")").toString(),o;for(o=0;o<e.length;o++){var u=e[o];if(u.indexOf(r,i)>u.indexOf(n,i)||~u.indexOf(r,i)&&!~u.indexOf(n,i)||!~u.indexOf(r,i)&&~u.indexOf(n,i)){a=u.indexOf(r,i);s=u.indexOf(n,i);if(~a&&!~s||!~a&&~s){var c=e.slice(0,(o||1)+1).join(t);e=[c].concat(e.slice((o||1)+1))}i=(s>a?s:a)+1;o=0}else{i=0}}return e}i.prototype.configure=function(e){e=e||{};for(var t=0;t<this.methods.length;t++){this._methods[this.methods[t]]=true}this.recurse=e.recurse||this.recurse||false;this.async=e.async||false;this.delimiter=e.delimiter||"/";this.strict=typeof e.strict==="undefined"?true:e.strict;this.notfound=e.notfound;this.resource=e.resource;this.history=e.html5history&&this.historySupport||false;this.run_in_init=this.history===true&&e.run_handler_in_init!==false;this.every={after:e.after||null,before:e.before||null,on:e.on||null};return this};i.prototype.param=function(e,t){if(e[0]!==":"){e=":"+e}var r=new RegExp(e,"g");this.params[e]=function(e){return e.replace(r,t.source||t)}};i.prototype.on=i.prototype.route=function(e,t,r){var n=this;if(!r&&typeof t=="function"){r=t;t=e;e="on"}if(Array.isArray(t)){return t.forEach(function(t){n.on(e,t,r)})}if(t.source){t=t.source.replace(/\\\//gi,"/")}if(Array.isArray(e)){return e.forEach(function(e){n.on(e.toLowerCase(),t,r)})}t=t.split(new RegExp(this.delimiter));t=f(t,this.delimiter);this.insert(e,this.scope.concat(t),r)};i.prototype.dispatch=function(e,t,r){var n=this,i=this.traverse(e,t,this.routes,""),a=this._invoked,s;this._invoked=true;if(!i||i.length===0){this.last=[];if(typeof this.notfound==="function"){this.invoke([this.notfound],{method:e,path:t},r)}return false}if(this.recurse==="forward"){i=i.reverse()}function o(){n.last=i.after;n.invoke(n.runlist(i),n,r)}s=this.every&&this.every.after?[this.every.after].concat(this.last):[this.last];if(s&&s.length>0&&a){if(this.async){this.invoke(s,this,o)}else{this.invoke(s,this);o()}return true}o();return true};i.prototype.invoke=function(e,t,r){var n=this;var i;if(this.async){i=function(r,n){if(Array.isArray(r)){return u(r,i,n)}else if(typeof r=="function"){r.apply(t,e.captures.concat(n))}};u(e,i,function(){if(r){r.apply(t,arguments)}})}else{i=function(r){if(Array.isArray(r)){return a(r,i)}else if(typeof r==="function"){return r.apply(t,e.captures||[])}else if(typeof r==="string"&&n.resource){n.resource[r].apply(t,e.captures||[])}};a(e,i)}};i.prototype.traverse=function(e,t,r,n,i){var a=[],s,o,u,c,l;function f(e){if(!i){return e}function t(e){var r=[];for(var n=0;n<e.length;n++){r[n]=Array.isArray(e[n])?t(e[n]):e[n]}return r}function r(e){for(var t=e.length-1;t>=0;t--){if(Array.isArray(e[t])){r(e[t]);if(e[t].length===0){e.splice(t,1)}}else{if(!i(e[t])){e.splice(t,1)}}}}var n=t(e);n.matched=e.matched;n.captures=e.captures;n.after=e.after.filter(i);r(n);return n}if(t===this.delimiter&&r[e]){c=[[r.before,r[e]].filter(Boolean)];c.after=[r.after].filter(Boolean);c.matched=true;c.captures=[];return f(c)}for(var h in r){if(r.hasOwnProperty(h)&&(!this._methods[h]||this._methods[h]&&typeof r[h]==="object"&&!Array.isArray(r[h]))){s=o=n+this.delimiter+h;if(!this.strict){o+="["+this.delimiter+"]?"}u=t.match(new RegExp("^"+o));if(!u){continue}if(u[0]&&u[0]==t&&r[h][e]){c=[[r[h].before,r[h][e]].filter(Boolean)];c.after=[r[h].after].filter(Boolean);c.matched=true;c.captures=u.slice(1);if(this.recurse&&r===this.routes){c.push([r.before,r.on].filter(Boolean));c.after=c.after.concat([r.after].filter(Boolean))}return f(c)}c=this.traverse(e,t,r[h],s);if(c.matched){if(c.length>0){a=a.concat(c)}if(this.recurse){a.push([r[h].before,r[h].on].filter(Boolean));c.after=c.after.concat([r[h].after].filter(Boolean));if(r===this.routes){a.push([r["before"],r["on"]].filter(Boolean));c.after=c.after.concat([r["after"]].filter(Boolean))}}a.matched=true;a.captures=c.captures;a.after=c.after;return f(a)}}}return false};i.prototype.insert=function(e,t,r,n){var i,a,s,o,u;t=t.filter(function(e){return e&&e.length>0});n=n||this.routes;u=t.shift();if(/\:|\*/.test(u)&&!/\\d|\\w/.test(u)){u=l(u,this.params)}if(t.length>0){n[u]=n[u]||{};return this.insert(e,t,r,n[u])}if(!u&&!t.length&&n===this.routes){i=typeof n[e];switch(i){case"function":n[e]=[n[e],r];return;case"object":n[e].push(r);return;case"undefined":n[e]=r;return}return}a=typeof n[u];s=Array.isArray(n[u]);if(n[u]&&!s&&a=="object"){i=typeof n[u][e];switch(i){case"function":n[u][e]=[n[u][e],r];return;case"object":n[u][e].push(r);return;case"undefined":n[u][e]=r;return}}else if(a=="undefined"){o={};o[e]=r;n[u]=o;return}throw new Error("Invalid route context: "+a)};i.prototype.extend=function(e){var t=this,r=e.length,n;function i(e){t._methods[e]=true;t[e]=function(){var r=arguments.length===1?[e,""]:[e];t.on.apply(t,r.concat(Array.prototype.slice.call(arguments)))}}for(n=0;n<r;n++){i(e[n])}};i.prototype.runlist=function(e){var t=this.every&&this.every.before?[this.every.before].concat(o(e)):o(e);if(this.every&&this.every.on){t.push(this.every.on)}t.captures=e.captures;t.source=e.source;return t};i.prototype.mount=function(e,t){if(!e||typeof e!=="object"||Array.isArray(e)){return}var r=this;t=t||[];if(!Array.isArray(t)){t=t.split(r.delimiter)}function n(t,n){var i=t,a=t.split(r.delimiter),s=typeof e[t],o=a[0]===""||!r._methods[a[0]],u=o?"on":i;if(o){i=i.slice((i.match(new RegExp("^"+r.delimiter))||[""])[0].length);a.shift()}if(o&&s==="object"&&!Array.isArray(e[t])){n=n.concat(a);r.mount(e[t],n);return}if(o){n=n.concat(i.split(r.delimiter));n=f(n,r.delimiter)}r.insert(u,n,e[t])}for(var i in e){if(e.hasOwnProperty(i)){n(i,t.slice(0))}}}})(true?t:window)},18:function(e,t,r){e.exports=function(){var e=[];e.toString=function t(){var e=[];for(var t=0;t<this.length;t++){var r=this[t];if(r[2]){e.push("@media "+r[2]+"{"+r[1]+"}")}else{e.push(r[1])}}return e.join("")};return e}},25:function(e,t,r){e.exports={XMLHttpRequest:XMLHttpRequest}},42:function(e,t,r){var n=e.exports={};n.nextTick=function(){var e=typeof window!=="undefined"&&window.setImmediate;var t=typeof window!=="undefined"&&window.postMessage&&window.addEventListener;if(e){return function(e){return window.setImmediate(e)}}if(t){var r=[];window.addEventListener("message",function(e){var t=e.source;if((t===window||t===null)&&e.data==="process-tick"){e.stopPropagation();if(r.length>0){var n=r.shift();n()}}},true);return function n(e){r.push(e);window.postMessage("process-tick","*")}}return function i(e){setTimeout(e,0)}}();n.title="browser";n.browser=true;n.env={};n.argv=[];function i(){}n.on=i;n.addListener=i;n.once=i;n.off=i;n.removeListener=i;n.removeAllListeners=i;n.emit=i;n.binding=function(e){throw new Error("process.binding is not supported")};n.cwd=function(){return"/"};n.chdir=function(e){throw new Error("process.chdir is not supported")}},44:function(e,t,r){(function(t){(function(){"use strict";var r;function n(){}r=n;r.prototype.getItem=function(e){if(this.hasOwnProperty(e)){return String(this[e])}return null};r.prototype.setItem=function(e,t){this[e]=String(t)};r.prototype.removeItem=function(e){delete this[e]};r.prototype.clear=function(){var e=this;Object.keys(e).forEach(function(t){e[t]=undefined;delete e[t]})};r.prototype.key=function(e){e=e||0;return Object.keys(this)[e]};r.prototype.__defineGetter__("length",function(){return Object.keys(this).length});if(t.localStorage){e.exports=localStorage}else{e.exports=new n}})()}).call(t,function(){return this}())}}));